---
title: My Linux Journey 1. Install Arch Linux
date: 2025-01-14 10:10:00 +0900
categories: [ë¦¬ëˆ…ìŠ¤]
tags: [ì•„ì¹˜ ë¦¬ëˆ…ìŠ¤]
---

ì•½ 10ë…„ ì „ êµ¬ë§¤í–ˆë˜ êµ¬í˜• ë…¸íŠ¸ë¶ì„ í¬ë§·í•˜ê³ , `Arch Linux OS`ë¥¼ ì„¤ì¹˜í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

ì•„ë˜ ê°€ì´ë“œëŠ” ì´ˆë³´ìë„ ì‰½ê²Œ ë”°ë¼í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
- **ì°¸ê³ ì‚¬ì´íŠ¸**: [https://wiki.archlinux.org/title/Installation_guide_(í•œêµ­ì–´)](https://wiki.archlinux.org/title/Installation_guide_(%ED%95%9C%EA%B5%AD%EC%96%B4))


## **1. ë¶€íŒ… ê°€ëŠ¥í•œ USB ìƒì„± (Windows í™˜ê²½ì—ì„œ ì§„í–‰)**

**í•„ìš” ì¡°ê±´:** USB ìš©ëŸ‰ì€ ìµœì†Œ **8GB ì´ìƒ**

1.  **Arch Linux ISO íŒŒì¼ ë‹¤ìš´ë¡œë“œ**
    - **ë‹¤ìš´ë¡œë“œ ë§í¬**: [https://archlinux.org/download/](https://archlinux.org/download/)
    - **South Korea ì„œë²„**ì—ì„œ `archlinux-x86_64.iso` ì´ë¯¸ì§€ íŒŒì¼ì„ ë°›ìŠµë‹ˆë‹¤.
2. **Rufus ì„¤ì¹˜ ë° ì‹¤í–‰**
    - **ë‹¤ìš´ë¡œë“œ ë§í¬**: [https://rufus.ie/ko/](https://rufus.ie/ko/)
    - `rufus-4.x.exe` ì‹¤í–‰ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤.
3. **USBì— Arch Linux ì„¤ì¹˜ íŒŒì¼ êµ½ê¸°**
    - **ì¥ì¹˜**: ë¶€íŒ… USB ì„ íƒ
    - **ë¶€íŒ… ì„ íƒ**: `archlinux-x86_64.iso` íŒŒì¼ ì„ íƒ
    - ì‹œì‘ ë²„íŠ¼ í´ë¦­ í›„, ì™„ë£Œë˜ë©´ USBë¥¼ ì•ˆì „í•˜ê²Œ ì œê±°í•©ë‹ˆë‹¤.
    
    ![arch_boot](https://github.com/user-attachments/assets/4303f47b-0266-4c33-9a12-38836f350e0a)
    


## **2. BIOS/UEFI ì„¤ì •**

1. **BIOS/UEFI ì§„ì…**
    - ë…¸íŠ¸ë¶ ì¬ë¶€íŒ… í›„, **F2**, **F10**, **F12**, ë˜ëŠ” **Del** í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ BIOS/UEFI ì„¤ì •ìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.
2. **ì„¤ì • ë³€ê²½**
    - **Secure Boot**: ë¹„í™œì„±í™” (OFF)
    - **Boot Mode**: UEFIë¡œ ì„¤ì •
    - ë¶€íŒ… ìˆœì„œë¥¼ ë³€ê²½í•˜ì—¬ USB ë“œë¼ì´ë¸Œë¥¼ 1ìˆœìœ„ë¡œ ì„¤ì •
3. **ë³€ê²½ ì‚¬í•­ ì €ì¥ í›„ ì¬ë¶€íŒ…**


## **3. Arch Linux ë¶€íŒ…**

1. **Arch Linux USBë¥¼ ì‚½ì…í•˜ê³  ë…¸íŠ¸ë¶ì„ ì¬ë¶€íŒ…í•©ë‹ˆë‹¤.**
2. **ë¶€íŒ… ë©”ë‰´ì—ì„œ USBë¥¼ ì„ íƒí•˜ì—¬ Arch Linux ì„¤ì¹˜ í™˜ê²½ìœ¼ë¡œ ì§„ì…í•©ë‹ˆë‹¤.**

<img width="755" alt="arch_root" src="https://github.com/user-attachments/assets/7b5e8187-65c5-4754-8cfb-29cc1718ee6e" />


## **4. Arch Linux ì„¤ì¹˜**

### **4.1. ë„¤íŠ¸ì›Œí¬ ì—°ê²°**

1. **`iwctl` ì‹¤í–‰**

    ```bash
    root@archiso ~ # iwctl
    NetworkConfigurationEnabled: disabled
    StateDirectory: /var/lib/iwd
    Version: 2.x
    ```

2. **ì¥ì¹˜ ì •ë³´ë¥¼ íšë“í•©ë‹ˆë‹¤.**

    ```bash
    [iwd]# device list
                        Devices
    -----------------------------------------------------------
    Name     Address             Powered    Adapter   Mode
    -----------------------------------------------------------
    wlan0    cc:79:cf:xx:xx:xx   on         phy0      station
    ```
3. **Wi-Fi ìŠ¤ìº” ë° ì—°ê²°**

    ```bash
    [iwd]# station wlan0 scan
    [iwd]# station wlan0 get-networks
                Available networks
    -----------------------------------------------
    Network name      Security       Signal
    -----------------------------------------------
    > U+Netxxxx       psk             ****
    ```

4. **ì—°ê²° ì„±ê³µ í›„, `ctrl + c`ë¡œ `iwctl`ì„ ë¹ ì ¸ë‚˜ì˜µë‹ˆë‹¤.**

    ```bash
    [iwd]# station wlan0 connect "U+Netxxxx"
    Type the network passphrase for U+Netxxxx psk.
    Passphrase: xxxxxxxxx # ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
    ```

### **4.2. ì§€ì—­ ë° ì‹œê°„ ì„¤ì •**

1. **ì‹œê°„ ë™ê¸°í™”**
    ```bash
    root@archiso ~ # timedatectl set-ntp true
    ```

2. **ì‹œê°„ëŒ€ ì„¤ì •**
    ```bash
    root@archiso ~ # ln -sf /usr/share/zoneinfo/Asia/Seoul /etc/localtime
    root@archiso ~ # hwclock --systohc
    ```

3. **í•œêµ­ í‘œì¤€ì‹œ(KST)ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸**
    ```bash
    root@archiso ~ # timedatectl status
    ```


### **4.3. ë””ìŠ¤í¬ íŒŒí‹°ì…”ë‹**

- `/` (ë£¨íŠ¸): ìµœì†Œ **20GB ì´ìƒ** ê¶Œì¥
- `swap`: RAM í¬ê¸°ì˜ 1~2ë°°
- `boot`: EFI íŒŒí‹°ì…˜ (512MB)

**êµ¬í˜• ë…¸íŠ¸ë¶ ì‚¬ì–‘**

- 1TB ë””ìŠ¤í¬, 8GB RAM, EFI ë¶€íŒ… ì§€ì›(UEFI ê¸°ë°˜)
- ì•„ë˜ì˜ êµ¬ì„±ìœ¼ë¡œ íŒŒí‹°ì…”ë‹ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

| **íŒŒí‹°ì…˜** | **í¬ê¸°** | **íŒŒì¼ ì‹œìŠ¤í…œ** | **ì„¤ëª…** |
| --- | --- | --- | --- |
| **EFI íŒŒí‹°ì…˜** | 512MB | FAT32 | UEFI ë¶€íŠ¸ë¡œë”ìš© |
| **ìŠ¤ì™‘ íŒŒí‹°ì…˜** | 16GB | ìŠ¤ì™‘ | RAM ë¶€ì¡± ì‹œ ì‚¬ìš© |
| **ë£¨íŠ¸ íŒŒí‹°ì…˜ (`/`)** | 50GB | EXT4 | Arch Linux ì‹œìŠ¤í…œ íŒŒì¼ ë° ì†Œí”„íŠ¸ì›¨ì–´ |
| **í™ˆ íŒŒí‹°ì…˜ (`/home`)** | ë‚˜ë¨¸ì§€ ì „ì²´ | EXT4 | ì‚¬ìš©ì ë°ì´í„° ì €ì¥ |


1. **`cfdisk` ì‹¤í–‰**
- ê¸°ì¡´ íŒŒí‹°ì…˜ ì •ë³´ë¥¼ **Delete**ë¡œ ì‚­ì œí•©ë‹ˆë‹¤.
- ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•˜ì§€ ë§ê³  ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.
    ```bash
    root@archiso ~ # cfdisk
    ```

2. **ìƒˆ íŒŒí‹°ì…˜ ìƒì„±**
- **EFI íŒŒí‹°ì…˜**: **New** â†’ 512MB â†’ Type â†’ **EFI System**
- **ìŠ¤ì™‘ íŒŒí‹°ì…˜**: **New** â†’ 16GB â†’ Type â†’ **Linux swap**
- **ë£¨íŠ¸ íŒŒí‹°ì…˜ (`/`)**: **New** â†’ 50GB â†’ Type â†’ **Linux root (x86-64)**
- **í™ˆ íŒŒí‹°ì…˜ (`/home`)**:**New** â†’ ë‚¨ì€ ê³µê°„ ì „ì²´ â†’ Type â†’ **Linux root (x86-64)**

3. **ë³€ê²½ ì‚¬í•­ ì €ì¥**
- ì™„ë£Œ í›„ **Write**ë¥¼ ì„ íƒí•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.
- **Quit** ì„ íƒ í›„, `cfdisk` ì¢…ë£Œí•©ë‹ˆë‹¤.

4. **íŒŒì¼ ì‹œìŠ¤í…œ ìƒì„±**
- ìƒˆ íŒŒí‹°ì…˜ì— íŒŒì¼ ì‹œìŠ¤í…œì„ ì„¤ì •í•©ë‹ˆë‹¤.

    ```bash
    root@archiso ~ #  mkfs.fat -F32 /dev/sda1      # EFI íŒŒí‹°ì…˜
    root@archiso ~ #  mkswap /dev/sda2             # ìŠ¤ì™‘ íŒŒí‹°ì…˜
    root@archiso ~ #  swapon /dev/sda2             # ìŠ¤ì™‘ í™œì„±í™”
    root@archiso ~ #  mkfs.ext4 /dev/sda3          # ë£¨íŠ¸ íŒŒí‹°ì…˜
    root@archiso ~ #  mkfs.ext4 /dev/sda4          # í™ˆ íŒŒí‹°ì…˜
    ```

5. **ë§ˆìš´íŠ¸**
- íŒŒí‹°ì…˜ì„ ì‹œìŠ¤í…œì— ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤.

    ```bash
    mount /dev/sda3 /mnt           # ë£¨íŠ¸ íŒŒí‹°ì…˜
    mkdir /mnt/boot
    mount /dev/sda1 /mnt/boot      # EFI íŒŒí‹°ì…˜
    mkdir /mnt/home
    mount /dev/sda4 /mnt/home      # í™ˆ íŒŒí‹°ì…˜
    ```


### 4.4. **ê¸°ë³¸ ì‹œìŠ¤í…œ ì„¤ì¹˜**

1. **í•µì‹¬ íŒ¨í‚¤ì§€ ì„¤ì¹˜**

    ```bash
    root@archiso ~ # pacstrap /mnt base linux linux-firmware
    ```

2. **Fstab ìƒì„±**
- ë§ˆìš´íŠ¸ëœ íŒŒí‹°ì…˜ ì •ë³´ë¥¼ ì‹œìŠ¤í…œì— ê¸°ë¡í•©ë‹ˆë‹¤.

    ```bash
    root@archiso ~ # genfstab -U /mnt >> /mnt/etc/fstab
    ```

    ```bash
    # ìƒì„±ëœ íŒŒì¼ì„ í™•ì¸í•©ë‹ˆë‹¤.
    root@archiso ~ # cat /mnt/etc/fstab
    ```


3. **Chroot í™˜ê²½ ì§„ì…**
- ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´, ì´ì œ ì‘ì—…ì€ ì„¤ì¹˜ëœ ì‹œìŠ¤í…œ ì•ˆì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.

    ```bash
    root@archiso ~ # arch-chroot /mnt
    ```

4. **Trouble Shooting ğŸš§**
- **8. ì„¤ì¹˜ ë§ˆë¬´ë¦¬ ë° ì¬ë¶€íŒ…** `reboot`í›„ **ë¦¬ëˆ…ìŠ¤**ë¡œ ë¶€íŒ…ë˜ì§€ ì•Šê³ , **BIOS í™”ë©´**ìœ¼ë¡œ ë„˜ì–´ê°”ìŠµë‹ˆë‹¤.
- **4.4.3. Chroot í™˜ê²½ ì§„ì… ëª…ë ¹ì–´** ì…ë ¥ ì‹œ, ì•„ë˜ì™€ ê°™ì€ **ê²½ê³  ë¬¸êµ¬âš ï¸**ê°€ ë–´ìŠµë‹ˆë‹¤.
    - `/etc/fstab` íŒŒì¼ ìˆ˜ì • í›„, ì‹œìŠ¤í…œì´ ìˆ˜ì •ëœ ë‚´ìš©ì„ ë°˜ì˜í•˜ì§€ ì•Šì•„ì„œ ë°œìƒí•œ ê²½ê³ ì…ë‹ˆë‹¤.
    ```bash
    root@archiso ~ # arch-chroot /mnt
    mount: (hint) your fstab has been modified, but systemd still uses the ole version; use 'systemctl daemon-reload' to reload
    ``` 

    **í•´ê²°ë°©ë²•(í•´ë‹¹ ê²½ê³ âš ï¸ê°€ ëœ¨ì‹œëŠ” ë¶„ë“¤ì€ ë”°ë¼í•´ì£¼ì„¸ìš”.)**
    
    
    1) **`sudo` ì„¤ì¹˜í•˜ê¸°: `root` ê³„ì •ìœ¼ë¡œ ì „í™˜ í›„, `sudo`ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.**
    ```bash
    su
    pacman -S sudo
    ```

    2) **`systemctl daemon-reload` ì‹¤í–‰**
    ```bash
    sudo systemctl daemon-reload
    ```

    3) **`mount -a` ëª…ë ¹ì–´ë¡œ ëª¨ë“  íŒŒì¼ ì‹œìŠ¤í…œ ë§ˆìš´íŠ¸**
    ```bash
    sudo mount -a
    ```

    4) **ê²€ì¦**
    ```bash
    mount
    ```
    - ëª¨ë“  íŒŒí‹°ì…˜ì´ ì œëŒ€ë¡œ ë§ˆìš´íŠ¸ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
    - ì˜ ë§ˆìš´íŠ¸ ë˜ì—ˆìœ¼ë©´ **4.5 ì–¸ì–´ ë° ì§€ì—­ ì„¤ì •**ë¶€í„° ë”°ë¼í•˜ì‹œë©´ ë©ë‹ˆë‹¤.


### 4.5. **ì–¸ì–´ ë° ì§€ì—­ ì„¤ì •**

1. **ë¡œì¼€ì¼ ìƒì„±**

    ```bash
    pacman -S vim

    vim /etc/locale.gen
    # ko_KR.UTF-8 UTF-8 ì£¼ì„ í•´ì œ
    locale-gen
    ```

2. **ê¸°ë³¸ ë¡œì¼€ì¼ ì„¤ì •**

    ```bash
    echo "LANG=ko_KR.UTF-8" > /etc/locale.conf
    ```

3. **í˜¸ìŠ¤íŠ¸ë„¤ì„ ì„¤ì •**

    ```bash
    echo "archlinux" > /etc/hostname
    vim /etc/hosts
    127.0.0.1   localhost
    ::1         localhost
    127.0.1.1   archpc.localdomain archlinux
    ```


## **5. ë„¤íŠ¸ì›Œí¬ ì„¤ì •**

1. **ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬ ë„êµ¬ ì„¤ì¹˜**

    ```bash
    pacman -S networkmanager
    ```

2. **ì„œë¹„ìŠ¤ í™œì„±í™”**

    ```bash
    systemctl enable NetworkManager
    ```


## **6. ë¶€íŠ¸ë¡œë” ì„¤ì¹˜**

1. **GRUB ì„¤ì¹˜**

    ```bash
    pacman -S grub efibootmgr
    mkdir /boot/efi
    mount /dev/sda1 /boot/efi
    grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=GRUB
    ```

2. **GRUB ì„¤ì • íŒŒì¼ ìƒì„±**

    ```bash
    grub-mkconfig -o /boot/grub/grub.cfg
    ```


## **7. ì‚¬ìš©ì ê³„ì • ìƒì„± ë° ì„¤ì •**

1. **ë£¨íŠ¸ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •**

    ```bash
    passwd
    ```

2. **ìƒˆ ì‚¬ìš©ì ê³„ì • ìƒì„± ë° sudo ê¶Œí•œ ë¶€ì—¬**

    ```bash
    useradd -m -G wheel -s /bin/bash your_username
    passwd your_username
    visudo
    # %wheel ALL=(ALL) ALL ì£¼ì„í•´ì œ
    ```


## **8. ì„¤ì¹˜ ë§ˆë¬´ë¦¬ ë° ì¬ë¶€íŒ…**

1. **ë§ˆìš´íŠ¸ í•´ì œ ë° ì„¤ì¹˜ ì¢…ë£Œ**

    ```bash
    exit
    umount -R /mnt
    reboot
    ```

2. **`reboot` ì´í›„, ì¬ì§„ì… ì‹œ ë„¤íŠ¸ì›Œí¬ ì—°ê²° í•„ìˆ˜**

    ```bash
    nmcli device wifi connect "<SSID>" password "<ë¹„ë°€ë²ˆí˜¸>"
    ```

3. **ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸**

    ```bash
    pacman -Syu
    ```

## **9. AUR ë„êµ¬ ì„¤ì¹˜**

1. **`git` ë° ë¹Œë“œë„êµ¬ ì„¤ì¹˜**

    ```bash
    sudo pacman -S git
    sudo pacman -S fakeroot devtools base-devel
    ```

2. **`yay` ì„¤ì¹˜**

    ```bash
    git clone https://aur.archlinux.org/yay.git
    cd yay
    makepkg -si
    ```
