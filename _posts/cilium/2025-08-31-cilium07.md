---
title: Cilium 7주차 정리
date: 2025-08-31 01:30:00 +0900
categories: [Cilium]
tags: [Cilium]
---

## **🔧 실습 환경 구성**

### **1. Kind 클러스터 생성**

```bash
kind create cluster --name myk8s --image kindest/node:v1.33.2 --config - <<EOF
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
  extraPortMappings:
  - containerPort: 30000
    hostPort: 30000
  - containerPort: 30001
    hostPort: 30001
  - containerPort: 30002
    hostPort: 30002
  - containerPort: 30003
    hostPort: 30003
  kubeadmConfigPatches: # Prometheus Target connection refused bind-address 설정
  - |
    kind: ClusterConfiguration
    controllerManager:
      extraArgs:
        bind-address: 0.0.0.0
    etcd:
      local:
        extraArgs:
          listen-metrics-urls: http://0.0.0.0:2381
    scheduler:
      extraArgs:
        bind-address: 0.0.0.0
  - |
    kind: KubeProxyConfiguration
    metricsBindAddress: 0.0.0.0
EOF
```

✅ **출력**

```bash
Creating cluster "myk8s" ...
 ✓ Ensuring node image (kindest/node:v1.33.2) 🖼
 ✓ Preparing nodes 📦  
 ✓ Writing configuration 📜 
 ✓ Starting control-plane 🕹️ 
 ✓ Installing CNI 🔌 
 ✓ Installing StorageClass 💾 
Set kubectl context to "kind-myk8s"
You can now use your cluster with:

kubectl cluster-info --context kind-myk8s

Thanks for using kind! 😊
```

### **2. kube-ops-view 설치**

**(1) Helm 저장소 추가**

```bash
helm repo add geek-cookbook https://geek-cookbook.github.io/charts/

# 결과
"geek-cookbook" has been added to your repositories
```

**(2) Helm Chart 설치**

```bash
helm install kube-ops-view geek-cookbook/kube-ops-view --version 1.2.2 --set service.main.type=NodePort,service.main.ports.http.nodePort=30003 --set env.TZ="Asia/Seoul" --namespace kube-system

# 결과
NAME: kube-ops-view
LAST DEPLOYED: Fri Aug 29 23:12:44 2025
NAMESPACE: kube-system
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
1. Get the application URL by running these commands:
  export NODE_PORT=$(kubectl get --namespace kube-system -o jsonpath="{.spec.ports[0].nodePort}" services kube-ops-view)
  export NODE_IP=$(kubectl get nodes --namespace kube-system -o jsonpath="{.items[0].status.addresses[0].address}")
  echo http://$NODE_IP:$NODE_PORT
```

**(3) kube-ops-view 확인**

```bash
http://localhost:30003/#scale=2
```
![](https://velog.velcdn.com/images/tlsalswls123/post/4ec75627-4c47-43e6-8710-4b2257cc665a/image.png)

### **3. Metrics Server 설치**

**(1) Helm 저장소 추가**

```bash
helm repo add metrics-server https://kubernetes-sigs.github.io/metrics-server/

# 결과
"metrics-server" has been added to your repositories
```

**(2) Helm Chart 설치 및 insecure-tls 옵션 활성화**

```bash
helm upgrade --install metrics-server metrics-server/metrics-server --set 'args[0]=--kubelet-insecure-tls' -n kube-system

# 결과
Release "metrics-server" does not exist. Installing it now.
NAME: metrics-server
LAST DEPLOYED: Fri Aug 29 23:14:28 2025
NAMESPACE: kube-system
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
***********************************************************************
* Metrics Server                                                      *
***********************************************************************
  Chart version: 3.13.0
  App version:   0.8.0
  Image tag:     registry.k8s.io/metrics-server/metrics-server:v0.8.0
***********************************************************************
```

**(3) 리소스 사용량 확인**

```bash
kubectl top pod -A --sort-by='cpu'
kubectl top pod -A --sort-by='memory'
```

✅ **출력**

```bash
NAMESPACE            NAME                                          CPU(cores)   MEMORY(bytes)   
kube-system          kube-apiserver-myk8s-control-plane            26m          203Mi           
kube-system          etcd-myk8s-control-plane                      13m          38Mi            
kube-system          kube-controller-manager-myk8s-control-plane   10m          61Mi            
kube-system          kube-scheduler-myk8s-control-plane            7m           26Mi            
kube-system          metrics-server-5dd7b49d79-bgml9               7m           27Mi            
kube-system          kube-ops-view-6658c477d4-9kln8                4m           32Mi            
kube-system          coredns-674b8bbfcf-59lx6                      2m           18Mi            
kube-system          coredns-674b8bbfcf-7s8p4                      2m           21Mi            
kube-system          kindnet-4ps5d                                 1m           15Mi            
kube-system          kube-proxy-rh5b9                              1m           22Mi            
local-path-storage   local-path-provisioner-7dc846544d-jrvnq       1m           10Mi

NAMESPACE            NAME                                          CPU(cores)   MEMORY(bytes)   
kube-system          kube-apiserver-myk8s-control-plane            26m          203Mi           
kube-system          kube-controller-manager-myk8s-control-plane   10m          61Mi            
kube-system          etcd-myk8s-control-plane                      13m          38Mi            
kube-system          kube-ops-view-6658c477d4-9kln8                4m           32Mi            
kube-system          metrics-server-5dd7b49d79-bgml9               7m           27Mi            
kube-system          kube-scheduler-myk8s-control-plane            7m           26Mi            
kube-system          kube-proxy-rh5b9                              1m           22Mi            
kube-system          coredns-674b8bbfcf-7s8p4                      2m           21Mi            
kube-system          coredns-674b8bbfcf-59lx6                      2m           18Mi            
kube-system          kindnet-4ps5d                                 1m           15Mi            
local-path-storage   local-path-provisioner-7dc846544d-jrvnq       1m           10Mi
```

### **4. Prometheus & Grafana 설치**

**(1) Helm values 파일 생성 (`monitor-values.yaml`)**

```bash
cat <<EOT > monitor-values.yaml
prometheus:
  prometheusSpec:
    scrapeInterval: "15s"
    evaluationInterval: "15s"
  service:
    type: NodePort
    nodePort: 30001

grafana:
  defaultDashboardsTimezone: Asia/Seoul
  adminPassword: prom-operator
  service:
    type: NodePort
    nodePort: 30002

alertmanager:
  enabled: false
defaultRules:
  create: false
prometheus-windows-exporter:
  prometheus:
    monitor:
      enabled: false
EOT
```

**(2) Helm 저장소 추가 및 업데이트**

```bash
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts

# 결과
"prometheus-community" has been added to your repositories
```

```bash
helm repo update

# 결과
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "metrics-server" chart repository
...Successfully got an update from the "cilium" chart repository
...Successfully got an update from the "prometheus-community" chart repository
...Successfully got an update from the "geek-cookbook" chart repository
Update Complete. ⎈Happy Helming!⎈
```

**(3) kube-prometheus-stack 설치**

```bash
helm install kube-prometheus-stack prometheus-community/kube-prometheus-stack --version 75.15.1 \
-f monitor-values.yaml --create-namespace --namespace monitoring

# 결과
NAME: kube-prometheus-stack
LAST DEPLOYED: Fri Aug 29 23:20:20 2025
NAMESPACE: monitoring
STATUS: deployed
REVISION: 1
NOTES:
kube-prometheus-stack has been installed. Check its status by running:
  kubectl --namespace monitoring get pods -l "release=kube-prometheus-stack"

Get Grafana 'admin' user password by running:

  kubectl --namespace monitoring get secrets kube-prometheus-stack-grafana -o jsonpath="{.data.admin-password}" | base64 -d ; echo

Access Grafana local instance:

  export POD_NAME=$(kubectl --namespace monitoring get pod -l "app.kubernetes.io/name=grafana,app.kubernetes.io/instance=kube-prometheus-stack" -oname)
  kubectl --namespace monitoring port-forward $POD_NAME 3000

Visit https://github.com/prometheus-operator/kube-prometheus for instructions on how to create & configure Alertmanager and Prometheus instances using the Operator.
```

**(4) 설치 완료 후, 웹 접속 확인**

```bash
http://127.0.0.1:30001 # prometheus 웹 접속
http://127.0.0.1:30002 # grafana 웹 접속 ( admin , prom-operator )
```
![](https://velog.velcdn.com/images/tlsalswls123/post/75069a7f-4005-4d15-a3d6-b425215b6a3c/image.png)

**15661 대시보드**
![](https://velog.velcdn.com/images/tlsalswls123/post/27b97d40-09ec-4a51-8850-19d8cff74436/image.png)

**12006 대시보드**
![](https://velog.velcdn.com/images/tlsalswls123/post/4ebee5f0-78fc-4ed2-b080-935e27c3096c/image.png)

---

## **⚡ 부하 성능 테스트 툴: Kube-burner**

- Kubernetes 리소스를 **대규모로 생성, 삭제, 조회, 패치** 가능
- **Prometheus 메트릭 수집 및 인덱싱** 지원
- **Measurements** 기능 제공 (성능 지표 측정)
- **Alerting** 기능 제공 (알림 연계 가능)
- **Go 언어 기반 바이너리**로 구현되었으며 `client-go` 라이브러리 활용

### **1. Kube-burner 저장소 클론**

```bash
git clone https://github.com/kube-burner/kube-burner.git
cd kube-burner
```

- GitHub 저장소에서 **소스 코드 클론 및 디렉토리 이동**

### **2. Kube-burner 바이너리 설치**

```bash
curl -LO https://github.com/kube-burner/kube-burner/releases/download/v1.17.3/kube-burner-V1.17.3-linux-x86_64.tar.gz
```

✅ **출력**

```bash
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100 17.1M  100 17.1M    0     0  13.0M      0  0:00:01  0:00:01 --:--:-- 17.6M
```

### **3. 아카이브 압축 해제**

```bash
tar -xvf kube-burner-V1.17.3-linux-x86_64.tar.gz
```

✅ **출력**

```bash
LICENSE
kube-burner
```

### **4. 실행 파일 배치**

```bash
sudo cp kube-burner /usr/local/bin
```

- `kube-burner` 바이너리를 시스템 실행 경로(`/usr/local/bin`)에 배치
- 이후 어디서든 `kube-burner` 명령어 사용 가능

### **5. 설치 확인**

```bash
kube-burner version
```

✅ **출력**

```bash
Version: 1.17.3
Git Commit: 917540ff45a89386bb25de45af9b96c9fc360e93
Build Date: 2025-08-19T14:42:17Z
Go Version: go1.23.12
OS/Arch: linux amd64
```

---

## **📄 시나리오 1**

- **목표: 디플로이먼트 1개(파드 1개) 생성 후 삭제하면서 `jobIterations`, `qps`, `burst` 파라미터 의미 확인**
- **핵심 파라미터**
    - `jobIterations`: 해당 job 반복 실행 횟수 (ex. 5 → 5번 반복)
    - `qps`: 초당 최대 요청 수
    - `burst`: 순간적으로 처리 가능한 최대 요청 수 (버퍼)

### **1. Job 및 Deployment 템플릿 생성**

```bash
cat << EOF > s1-config.yaml
global:
  measurements:
    - name: none

jobs:
  - name: create-deployments
    jobType: create
    jobIterations: 1  # How many times to execute the job , 해당 job을 5번 반복 실행
    qps: 1            # Limit object creation queries per second , 	초당 최대 요청 수 (평균 속도 제한) - qps: 10이면 초당 10개 요청
    burst: 1          # Maximum burst for throttle , 순간적으로 처리 가능한 요청 최대치 (버퍼) - burst: 20이면 한순간에 최대 20개까지 처리 가능
    namespace: kube-burner-test
    namespaceLabels: {kube-burner-job: delete-me}
    waitWhenFinished: true # false
    verifyObjects: false
    preLoadImages: true # false
    preLoadPeriod: 30s # default 1m
    objects:
      - objectTemplate: s1-deployment.yaml
        replicas: 1
EOF

cat << EOF > s1-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: deployment-{{ .Iteration}}-{{.Replica}}
  labels:
    app: test-{{ .Iteration }}-{{.Replica}}
    kube-burner-job: delete-me
spec:
  replicas: 1
  selector:
    matchLabels:
      app: test-{{ .Iteration}}-{{.Replica}}
  template:
    metadata:
      labels:
        app: test-{{ .Iteration}}-{{.Replica}}
    spec:
      containers:
        - name: nginx
          image: nginx:alpine
          ports:
            - containerPort: 80
EOF
```

### **2. 리소스 모니터링**

```bash
watch -d kubectl get ns,pod -A
```

✅ **출력**

```bash
NAME                           STATUS   AGE
namespace/default              Active   19h
namespace/kube-node-lease      Active   19h
namespace/kube-public          Active   19h
namespace/kube-system          Active   19h
namespace/local-path-storage   Active   19h
namespace/monitoring           Active   19h

NAMESPACE            NAME                                                            READY   STATUS    RESTARTS   AGE
kube-system          pod/coredns-674b8bbfcf-59lx6                                    1/1     Running   0          19h
kube-system          pod/coredns-674b8bbfcf-7s8p4                                    1/1     Running   0          19h
kube-system          pod/etcd-myk8s-control-plane                                    1/1     Running   0          19h
kube-system          pod/kindnet-4ps5d                                               1/1     Running   0          19h
kube-system          pod/kube-apiserver-myk8s-control-plane                          1/1     Running   0          19h
kube-system          pod/kube-controller-manager-myk8s-control-plane                 1/1     Running   0          19h
kube-system          pod/kube-ops-view-6658c477d4-9kln8                              1/1     Running   0          19h
kube-system          pod/kube-proxy-rh5b9                                            1/1     Running   0          19h
kube-system          pod/kube-scheduler-myk8s-control-plane                          1/1     Running   0          19h
kube-system          pod/metrics-server-5dd7b49d79-bgml9                             1/1     Running   0          19h
local-path-storage   pod/local-path-provisioner-7dc846544d-jrvnq                     1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          19h
monitoring           pod/kube-prometheus-stack-kube-state-metrics-684f8c7558-bnhx4   1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-operator-68589744f5-5pdfx             1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-prometheus-node-exporter-8vjrb        1/1     Running   0          19h
monitoring           pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          19h
```

### **3. 부하 생성 (Launch benchmark)**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:06:58" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID da9a847c-079c-462c-92a0-cbb87f7e7f47" file="job.go:91"
time="2025-08-30 19:06:58" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:06:58" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:06:58" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 19:06:58" level=info msg="Burst: 1" file="job.go:378"
time="2025-08-30 19:06:58" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:06:58" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:06:58" level=info msg="Job create-deployments: 1 iterations with 1 Deployment replicas" file="create.go:84"
time="2025-08-30 19:06:58" level=info msg="Pre-load: images from job create-deployments" file="pre_load.go:73"
time="2025-08-30 19:06:58" level=debug msg="Created namespace: preload-kube-burner" file="namespaces.go:55"
time="2025-08-30 19:06:58" level=info msg="Pre-load: Creating DaemonSet using images [nginx:alpine] in namespace preload-kube-burner" file="pre_load.go:195"
time="2025-08-30 19:06:58" level=info msg="Pre-load: Sleeping for 30s" file="pre_load.go:86"
time="2025-08-30 19:07:28" level=info msg="Deleting 1 namespaces with label: kube-burner-preload=true" file="namespaces.go:67"
time="2025-08-30 19:07:28" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-preload=true to be deleted" file="namespaces.go:90"
time="2025-08-30 19:07:29" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-preload=true to be deleted" file="namespaces.go:90"
time="2025-08-30 19:07:30" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-preload=true to be deleted" file="namespaces.go:90"
time="2025-08-30 19:07:31" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-preload=true to be deleted" file="namespaces.go:90"
time="2025-08-30 19:07:32" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-preload=true to be deleted" file="namespaces.go:90"
time="2025-08-30 19:07:33" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-preload=true to be deleted" file="namespaces.go:90"
time="2025-08-30 19:07:34" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:07:34" level=info msg="0/1 iterations completed" file="create.go:119"
time="2025-08-30 19:07:34" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:07:35" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:07:35" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:07:35" level=info msg="Waiting up to 4h0m0s for actions to be completed" file="create.go:169"
time="2025-08-30 19:07:36" level=debug msg="Waiting for replicas from Deployment in ns kube-burner-test-0 to be ready" file="waiters.go:152"
time="2025-08-30 19:07:37" level=info msg="Actions in namespace kube-burner-test-0 completed" file="waiters.go:74"
time="2025-08-30 19:07:37" level=info msg="Job create-deployments took 3s" file="job.go:191"
time="2025-08-30 19:07:37" level=info msg="Finished execution with UUID: da9a847c-079c-462c-92a0-cbb87f7e7f47" file="job.go:264"
time="2025-08-30 19:07:37" level=info msg="👋 Exiting kube-burner da9a847c-079c-462c-92a0-cbb87f7e7f47" file="kube-burner.go:90"
```

### **4. 생성된 리소스 확인**

```bash
kubectl get ns,pod -A
```

✅ **출력**

```bash
NAME                           STATUS   AGE
namespace/default              Active   19h
namespace/kube-burner-test-0   Active   32s
namespace/kube-node-lease      Active   19h
namespace/kube-public          Active   19h
namespace/kube-system          Active   19h
namespace/local-path-storage   Active   19h
namespace/monitoring           Active   19h

NAMESPACE            NAME                                                            READY   STATUS    RESTARTS   AGE
kube-burner-test-0   pod/deployment-0-1-f5747f5f8-4dfc9                              1/1     Running   0          32s
kube-system          pod/coredns-674b8bbfcf-59lx6                                    1/1     Running   0          19h
kube-system          pod/coredns-674b8bbfcf-7s8p4                                    1/1     Running   0          19h
kube-system          pod/etcd-myk8s-control-plane                                    1/1     Running   0          19h
kube-system          pod/kindnet-4ps5d                                               1/1     Running   0          19h
kube-system          pod/kube-apiserver-myk8s-control-plane                          1/1     Running   0          19h
kube-system          pod/kube-controller-manager-myk8s-control-plane                 1/1     Running   0          19h
kube-system          pod/kube-ops-view-6658c477d4-9kln8                              1/1     Running   0          19h
kube-system          pod/kube-proxy-rh5b9                                            1/1     Running   0          19h
kube-system          pod/kube-scheduler-myk8s-control-plane                          1/1     Running   0          19h
kube-system          pod/metrics-server-5dd7b49d79-bgml9                             1/1     Running   0          19h
local-path-storage   pod/local-path-provisioner-7dc846544d-jrvnq                     1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          19h
monitoring           pod/kube-prometheus-stack-kube-state-metrics-684f8c7558-bnhx4   1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-operator-68589744f5-5pdfx             1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-prometheus-node-exporter-8vjrb        1/1     Running   0          19h
monitoring           pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          19h
```

```bash
kubectl get deploy -A -l kube-burner-job=delete-me
kubectl get pod -A -l kube-burner-job=delete-me
kubectl get ns -l kube-burner-job=delete-me
```

✅ **출력**

```bash
NAMESPACE            NAME             READY   UP-TO-DATE   AVAILABLE   AGE
kube-burner-test-0   deployment-0-1   1/1     1            1           4m40s

NAMESPACE            NAME                             READY   STATUS    RESTARTS   AGE
kube-burner-test-0   deployment-0-1-f5747f5f8-4dfc9   1/1     Running   0          4m40s

NAME                 STATUS   AGE
kube-burner-test-0   Active   4m40s
```
![](https://velog.velcdn.com/images/tlsalswls123/post/f0adba89-9abb-41b2-8de6-64bcbc7435a8/image.png)

### **5. 리소스 삭제 Job 작성**

```bash
cat << EOF > s1-config-delete.yaml
# global:
#   measurements:
#     - name: none

jobs:
  - name: delete-deployments-namespace
    qps: 500
    burst: 500
    namespace: kube-burner-test
    jobType: delete
    waitWhenFinished: true
    objects:
    - kind: Deployment
      labelSelector: {kube-burner-job: delete-me}
      apiVersion: apps/v1
    - kind: Namespace
      labelSelector: {kube-burner-job: delete-me}
EOF
```

- 삭제 대상: `Deployment`, `Namespace` (label: `kube-burner-job=delete-me`)

### **6. 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:13:43" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 45f54ede-5140-4785-ad6c-e38cba1679ee" file="job.go:91"
time="2025-08-30 19:13:43" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:13:43" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:13:43" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:13:43" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:13:43" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:13:43" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:13:43" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:13:43" level=info msg="Found 1 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:13:43" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:13:43" level=info msg="Found 1 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:13:43" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:13:43" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:13:45" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:13:47" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:13:49" level=info msg="Job delete-deployments-namespace took 6s" file="job.go:191"
time="2025-08-30 19:13:49" level=info msg="Finished execution with UUID: 45f54ede-5140-4785-ad6c-e38cba1679ee" file="job.go:264"
time="2025-08-30 19:13:49" level=info msg="👋 Exiting kube-burner 45f54ede-5140-4785-ad6c-e38cba1679ee" file="kube-burner.go:90"
```

**삭제 후, 리소스 확인**

```bash
kubectl get ns,pod -A
```

✅ **출력**

```bash
NAME                           STATUS   AGE
namespace/default              Active   19h
namespace/kube-node-lease      Active   19h
namespace/kube-public          Active   19h
namespace/kube-system          Active   19h
namespace/local-path-storage   Active   19h
namespace/monitoring           Active   19h

NAMESPACE            NAME                                                            READY   STATUS    RESTARTS   AGE
kube-system          pod/coredns-674b8bbfcf-59lx6                                    1/1     Running   0          19h
kube-system          pod/coredns-674b8bbfcf-7s8p4                                    1/1     Running   0          19h
kube-system          pod/etcd-myk8s-control-plane                                    1/1     Running   0          19h
kube-system          pod/kindnet-4ps5d                                               1/1     Running   0          19h
kube-system          pod/kube-apiserver-myk8s-control-plane                          1/1     Running   0          19h
kube-system          pod/kube-controller-manager-myk8s-control-plane                 1/1     Running   0          19h
kube-system          pod/kube-ops-view-6658c477d4-9kln8                              1/1     Running   0          19h
kube-system          pod/kube-proxy-rh5b9                                            1/1     Running   0          19h
kube-system          pod/kube-scheduler-myk8s-control-plane                          1/1     Running   0          19h
kube-system          pod/metrics-server-5dd7b49d79-bgml9                             1/1     Running   0          19h
local-path-storage   pod/local-path-provisioner-7dc846544d-jrvnq                     1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          19h
monitoring           pod/kube-prometheus-stack-kube-state-metrics-684f8c7558-bnhx4   1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-operator-68589744f5-5pdfx             1/1     Running   0          19h
monitoring           pod/kube-prometheus-stack-prometheus-node-exporter-8vjrb        1/1     Running   0          19h
monitoring           pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          19h
```

---

### **7. `preLoadImages: false` 옵션 변경**

- `preLoadImages: true` → 사전 이미지 다운로드 과정 포함 (DaemonSet 사용)
- `preLoadImages: false` → 사전 다운로드 없이 즉시 리소스 생성/삭제 진행

![](https://velog.velcdn.com/images/tlsalswls123/post/527ed03d-377d-4798-81c8-836f9a71edbe/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:16:31" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID b9415728-7aa5-4e23-bf79-2c328a9c8df6" file="job.go:91"
time="2025-08-30 19:16:31" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:16:31" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:16:31" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 19:16:31" level=info msg="Burst: 1" file="job.go:378"
time="2025-08-30 19:16:31" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:16:31" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:16:31" level=info msg="Job create-deployments: 1 iterations with 1 Deployment replicas" file="create.go:84"
time="2025-08-30 19:16:31" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:16:31" level=info msg="0/1 iterations completed" file="create.go:119"
time="2025-08-30 19:16:31" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:16:32" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:16:32" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:16:32" level=info msg="Waiting up to 4h0m0s for actions to be completed" file="create.go:169"
time="2025-08-30 19:16:33" level=debug msg="Waiting for replicas from Deployment in ns kube-burner-test-0 to be ready" file="waiters.go:152"
time="2025-08-30 19:16:34" level=info msg="Actions in namespace kube-burner-test-0 completed" file="waiters.go:74"
time="2025-08-30 19:16:34" level=info msg="Job create-deployments took 3s" file="job.go:191"
time="2025-08-30 19:16:34" level=info msg="Finished execution with UUID: b9415728-7aa5-4e23-bf79-2c328a9c8df6" file="job.go:264"
time="2025-08-30 19:16:34" level=info msg="👋 Exiting kube-burner b9415728-7aa5-4e23-bf79-2c328a9c8df6" file="kube-burner.go:90"
```

**(2) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:17:26" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 096a23d8-fced-48ba-bdda-590ccf00cd09" file="job.go:91"
time="2025-08-30 19:17:26" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:17:26" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:17:26" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:17:26" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:17:26" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:17:26" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:17:26" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:17:26" level=info msg="Found 1 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:17:26" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:17:26" level=info msg="Found 1 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:17:26" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:17:26" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:17:28" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:17:30" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:17:32" level=info msg="Job delete-deployments-namespace took 6s" file="job.go:191"
time="2025-08-30 19:17:32" level=info msg="Finished execution with UUID: 096a23d8-fced-48ba-bdda-590ccf00cd09" file="job.go:264"
time="2025-08-30 19:17:32" level=info msg="👋 Exiting kube-burner 096a23d8-fced-48ba-bdda-590ccf00cd09" file="kube-burner.go:90"
```

---

### **8. `waitWhenFinished: false` 옵션 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/065adec7-1fdf-4af9-92d8-f6357db44869/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:19:51" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID a141cbaf-f15f-47ee-be3d-2d404ecde63c" file="job.go:91"
time="2025-08-30 19:19:51" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:19:51" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:19:51" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 19:19:51" level=info msg="Burst: 1" file="job.go:378"
time="2025-08-30 19:19:51" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:19:51" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:19:51" level=info msg="Job create-deployments: 1 iterations with 1 Deployment replicas" file="create.go:84"
time="2025-08-30 19:19:51" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:19:51" level=info msg="0/1 iterations completed" file="create.go:119"
time="2025-08-30 19:19:51" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:19:52" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:19:52" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:19:52" level=info msg="Job create-deployments took 1s" file="job.go:191"
time="2025-08-30 19:19:52" level=info msg="Finished execution with UUID: a141cbaf-f15f-47ee-be3d-2d404ecde63c" file="job.go:264"
time="2025-08-30 19:19:52" level=info msg="👋 Exiting kube-burner a141cbaf-f15f-47ee-be3d-2d404ecde63c" file="kube-burner.go:90"
```

- `Job create-deployments took 1s` → 기다림 없이 빠르게 종료
- 리소스는 생성되지만 kube-burner는 Ready 상태를 보장하지 않음
- 리소스가 정상적으로 만들어졌는지 kube-burner가 확인하지 않고, 즉시 결과를 반환

**(2) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:20:55" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 775a7de1-e758-4ae1-99fc-933aa225180a" file="job.go:91"
time="2025-08-30 19:20:55" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:20:55" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:20:55" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:20:55" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:20:55" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:20:55" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:20:55" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:20:55" level=info msg="Found 1 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:20:55" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:20:55" level=info msg="Found 1 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:20:55" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:20:55" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:20:57" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:20:59" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:21:01" level=info msg="Job delete-deployments-namespace took 6s" file="job.go:191"
time="2025-08-30 19:21:01" level=info msg="Finished execution with UUID: 775a7de1-e758-4ae1-99fc-933aa225180a" file="job.go:264"
time="2025-08-30 19:21:01" level=info msg="👋 Exiting kube-burner 775a7de1-e758-4ae1-99fc-933aa225180a" file="kube-burner.go:90"
```

---

### **9. `jobIterations: 5` 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/2ab06041-7e64-456e-9b35-78f43c15a353/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:22:13" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 4b7213d4-5c16-478f-9e36-559d1d545fb1" file="job.go:91"
time="2025-08-30 19:22:13" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:22:13" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:22:13" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 19:22:13" level=info msg="Burst: 1" file="job.go:378"
time="2025-08-30 19:22:13" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:22:13" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:22:13" level=info msg="Job create-deployments: 5 iterations with 1 Deployment replicas" file="create.go:84"
time="2025-08-30 19:22:13" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:22:13" level=info msg="0/5 iterations completed" file="create.go:119"
time="2025-08-30 19:22:13" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:22:14" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:22:14" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 19:22:14" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:22:15" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 19:22:15" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 19:22:15" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:22:16" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 19:22:16" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 19:22:16" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:22:17" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 19:22:17" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 19:22:17" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:22:18" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 19:22:18" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:22:18" level=info msg="Job create-deployments took 5s" file="job.go:191"
time="2025-08-30 19:22:18" level=info msg="Finished execution with UUID: 4b7213d4-5c16-478f-9e36-559d1d545fb1" file="job.go:264"
time="2025-08-30 19:22:18" level=info msg="👋 Exiting kube-burner 4b7213d4-5c16-478f-9e36-559d1d545fb1" file="kube-burner.go:90"
```

**(2) 리소스 확인**

```bash
kubectl get ns,pod -A
```

✅ **출력**

```bash
NAME                           STATUS   AGE
namespace/default              Active   20h
namespace/kube-burner-test-0   Active   50s
namespace/kube-burner-test-1   Active   49s
namespace/kube-burner-test-2   Active   48s
namespace/kube-burner-test-3   Active   47s
namespace/kube-burner-test-4   Active   46s
namespace/kube-node-lease      Active   20h
namespace/kube-public          Active   20h
namespace/kube-system          Active   20h
namespace/local-path-storage   Active   20h
namespace/monitoring           Active   20h

NAMESPACE            NAME                                                            READY   STATUS    RESTARTS   AGE
kube-burner-test-0   pod/deployment-0-1-68db67bc67-xrr9q                             1/1     Running   0          50s
kube-burner-test-1   pod/deployment-1-1-7664686fcf-4zzjd                             1/1     Running   0          49s
kube-burner-test-2   pod/deployment-2-1-586b6944c5-fb2hw                             1/1     Running   0          48s
kube-burner-test-3   pod/deployment-3-1-86859bd7d7-bgj94                             1/1     Running   0          47s
kube-burner-test-4   pod/deployment-4-1-5dc574ff99-7kxz5                              1/1     Running   0          46s
kube-system          pod/coredns-674b8bbfcf-59lx6                                    1/1     Running   0          20h
kube-system          pod/coredns-674b8bbfcf-7s8p4                                    1/1     Running   0          20h
kube-system          pod/etcd-myk8s-control-plane                                    1/1     Running   0          20h
kube-system          pod/kindnet-4ps5d                                               1/1     Running   0          20h
kube-system          pod/kube-apiserver-myk8s-control-plane                          1/1     Running   0          20h
kube-system          pod/kube-controller-manager-myk8s-control-plane                 1/1     Running   0          20h
kube-system          pod/kube-ops-view-6658c477d4-9kln8                              1/1     Running   0          20h
kube-system          pod/kube-proxy-rh5b9                                            1/1     Running   0          20h
kube-system          pod/kube-scheduler-myk8s-control-plane                          1/1     Running   0          20h
kube-system          pod/metrics-server-5dd7b49d79-bgml9                             1/1     Running   0          20h
local-path-storage   pod/local-path-provisioner-7dc846544d-jrvnq                     1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          20h
monitoring           pod/kube-prometheus-stack-kube-state-metrics-684f8c7558-bnhx4   1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-operator-68589744f5-5pdfx             1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-prometheus-node-exporter-8vjrb        1/1     Running   0          20h
monitoring           pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          20h
```

- `kube-burner-test-0` ~ `kube-burner-test-4` 네임스페이스 생성
- 각 네임스페이스에 파드 1개씩 Running 상태 배포

**(3) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:26:10" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID e8933f7a-f4d8-4a28-ad33-79ea4b5a1f13" file="job.go:91"
time="2025-08-30 19:26:10" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:26:10" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:26:10" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:26:10" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:26:10" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:26:10" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:26:10" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:26:10" level=info msg="Found 5 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:26:10" level=debug msg="Removing Deployment/deployment-4-1 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:26:10" level=debug msg="Removing Deployment/deployment-2-1 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:26:10" level=debug msg="Removing Deployment/deployment-3-1 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:26:10" level=debug msg="Removing Deployment/deployment-1-1 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:26:10" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:26:10" level=info msg="Found 5 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:26:10" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 19:26:10" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 19:26:10" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 19:26:10" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:26:10" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 19:26:10" level=debug msg="Waiting for 5 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:26:12" level=debug msg="Waiting for 5 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:26:14" level=debug msg="Waiting for 5 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:26:16" level=debug msg="Waiting for 3 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:26:18" level=info msg="Job delete-deployments-namespace took 8s" file="job.go:191"
time="2025-08-30 19:26:18" level=info msg="Finished execution with UUID: e8933f7a-f4d8-4a28-ad33-79ea4b5a1f13" file="job.go:264"
time="2025-08-30 19:26:18" level=info msg="👋 Exiting kube-burner e8933f7a-f4d8-4a28-ad33-79ea4b5a1f13" file="kube-burner.go:90"
```

---

### **10. `objects.replicas: 2` 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/11e15ca7-3b14-4385-9027-da66ae4b6cf7/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug 
```

✅ **출력**

```bash
time="2025-08-30 19:28:25" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 10627b38-9887-4d38-bb05-54cadfdc5e0c" file="job.go:91"
time="2025-08-30 19:28:25" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:28:25" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:28:25" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 19:28:25" level=info msg="Burst: 1" file="job.go:378"
time="2025-08-30 19:28:25" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:28:25" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:28:25" level=info msg="Job create-deployments: 5 iterations with 2 Deployment replicas" file="create.go:84"
time="2025-08-30 19:28:25" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:28:25" level=info msg="0/5 iterations completed" file="create.go:119"
time="2025-08-30 19:28:25" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:28:26" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:28:26" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:28:27" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 19:28:27" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 19:28:27" level=debug msg="Created Deployment/deployment-0-2 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:28:28" level=debug msg="Created Deployment/deployment-1-2 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:28:29" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 19:28:29" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 19:28:29" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:28:30" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:28:31" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 19:28:31" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 19:28:31" level=debug msg="Created Deployment/deployment-2-2 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:28:32" level=debug msg="Created Deployment/deployment-3-2 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:28:33" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 19:28:33" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 19:28:33" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:28:34" level=debug msg="Created Deployment/deployment-4-2 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:28:35" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:28:35" level=info msg="Job create-deployments took 10s" file="job.go:191"
time="2025-08-30 19:28:35" level=info msg="Finished execution with UUID: 10627b38-9887-4d38-bb05-54cadfdc5e0c" file="job.go:264"
time="2025-08-30 19:28:35" level=info msg="👋 Exiting kube-burner 10627b38-9887-4d38-bb05-54cadfdc5e0c" file="kube-burner.go:90"
```

- `5 iterations with 2 Deployment replicas` 출력 확인
- 약 10초 동안 총 10개 Deployment 생성 완료

**(2) 리소스 확인**

```bash
kubectl get ns,pod -A
```

✅ **출력**

```bash
NAME                           STATUS   AGE
namespace/default              Active   20h
namespace/kube-burner-test-0   Active   107s
namespace/kube-burner-test-1   Active   106s
namespace/kube-burner-test-2   Active   104s
namespace/kube-burner-test-3   Active   102s
namespace/kube-burner-test-4   Active   100s
namespace/kube-node-lease      Active   20h
namespace/kube-public          Active   20h
namespace/kube-system          Active   20h
namespace/local-path-storage   Active   20h
namespace/monitoring           Active   20h

NAMESPACE            NAME                                                            READY   STATUS    RESTARTS   AGE
kube-burner-test-0   pod/deployment-0-1-5f94f54df6-n7vrx                             1/1     Running   0          107s
kube-burner-test-0   pod/deployment-0-2-6bb8c794c8-7qjgz                             1/1     Running   0          106s
kube-burner-test-1   pod/deployment-1-1-86c46d784d-rxb4c                             1/1     Running   0          104s
kube-burner-test-1   pod/deployment-1-2-bbcfdb96b-82554                              1/1     Running   0          105s
kube-burner-test-2   pod/deployment-2-1-66cc7489dd-tp5pq                             1/1     Running   0          103s
kube-burner-test-2   pod/deployment-2-2-6659c756d6-d42hn                             1/1     Running   0          102s
kube-burner-test-3   pod/deployment-3-1-6cc95944d-hftsk                              1/1     Running   0          100s
kube-burner-test-3   pod/deployment-3-2-54985b45f4-kljd4                             1/1     Running   0          101s
kube-burner-test-4   pod/deployment-4-1-96888d5d4-hd24s                              1/1     Running   0          98s
kube-burner-test-4   pod/deployment-4-2-69c7f5c74-4rb8c                              1/1     Running   0          99s
kube-system          pod/coredns-674b8bbfcf-59lx6                                    1/1     Running   0          20h
kube-system          pod/coredns-674b8bbfcf-7s8p4                                    1/1     Running   0          20h
kube-system          pod/etcd-myk8s-control-plane                                    1/1     Running   0          20h
kube-system          pod/kindnet-4ps5d                                               1/1     Running   0          20h
kube-system          pod/kube-apiserver-myk8s-control-plane                          1/1     Running   0          20h
kube-system          pod/kube-controller-manager-myk8s-control-plane                 1/1     Running   0          20h
kube-system          pod/kube-ops-view-6658c477d4-9kln8                              1/1     Running   0          20h
kube-system          pod/kube-proxy-rh5b9                                            1/1     Running   0          20h
kube-system          pod/kube-scheduler-myk8s-control-plane                          1/1     Running   0          20h
kube-system          pod/metrics-server-5dd7b49d79-bgml9                             1/1     Running   0          20h
local-path-storage   pod/local-path-provisioner-7dc846544d-jrvnq                     1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          20h
monitoring           pod/kube-prometheus-stack-kube-state-metrics-684f8c7558-bnhx4   1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-operator-68589744f5-5pdfx             1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-prometheus-node-exporter-8vjrb        1/1     Running   0          20h
monitoring           pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          20h
```

- `kube-burner-test-0` ~ `kube-burner-test-4` 네임스페이스 생성
- 각 네임스페이스에 Deployment 2개씩 존재
- 각 Deployment 당 파드 1개씩 배포 → 총 10개 파드 실행 상태 확인

![](https://velog.velcdn.com/images/tlsalswls123/post/4eb4a8df-46ef-46ce-89e2-9f3823027591/image.png)

**(3) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:49:54" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID bc1482cd-c614-4822-a968-3743f5049aba" file="job.go:91"
time="2025-08-30 19:49:54" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:49:54" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:49:54" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:49:54" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:49:54" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:49:54" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:49:54" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:49:54" level=info msg="Found 10 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-4-2 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-3-1 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-2-1 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-1-1 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-1-2 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-0-2 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-2-2 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-3-2 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:49:54" level=debug msg="Removing Deployment/deployment-4-1 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:49:54" level=info msg="Found 5 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:49:54" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 19:49:54" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 19:49:54" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 19:49:54" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 19:49:54" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:49:54" level=debug msg="Waiting for 5 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:49:56" level=debug msg="Waiting for 5 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:49:58" level=debug msg="Waiting for 5 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:50:00" level=debug msg="Waiting for 1 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:50:02" level=info msg="Job delete-deployments-namespace took 8s" file="job.go:191"
time="2025-08-30 19:50:02" level=info msg="Finished execution with UUID: bc1482cd-c614-4822-a968-3743f5049aba" file="job.go:264"
time="2025-08-30 19:50:02" level=info msg="👋 Exiting kube-burner bc1482cd-c614-4822-a968-3743f5049aba" file="kube-burner.go:90"
```

---

### **11. `jobIterations: 10` 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/45f7b544-487b-47b2-a7ef-cdcc23a81ddf/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:51:34" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 3f1dcb8c-527d-489e-a217-09eb40c41c67" file="job.go:91"
time="2025-08-30 19:51:34" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:51:34" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:51:34" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 19:51:34" level=info msg="Burst: 1" file="job.go:378"
time="2025-08-30 19:51:34" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:51:34" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:51:34" level=info msg="Job create-deployments: 10 iterations with 2 Deployment replicas" file="create.go:84"
time="2025-08-30 19:51:34" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:51:34" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:51:35" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:51:35" level=debug msg="Created Deployment/deployment-0-2 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:51:36" level=info msg="1/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:36" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 19:51:36" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 19:51:36" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:51:37" level=debug msg="Created Deployment/deployment-1-2 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:51:38" level=info msg="2/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:38" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 19:51:38" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 19:51:38" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:51:39" level=debug msg="Created Deployment/deployment-2-2 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:51:40" level=info msg="3/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:40" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 19:51:40" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 19:51:40" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:51:41" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:51:42" level=info msg="4/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:42" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 19:51:42" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 19:51:42" level=debug msg="Created Deployment/deployment-3-2 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:51:43" level=debug msg="Created Deployment/deployment-4-2 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:51:44" level=info msg="5/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:44" level=debug msg="Creating object replicas from iteration 5" file="create.go:122"
time="2025-08-30 19:51:44" level=debug msg="Created namespace: kube-burner-test-5" file="namespaces.go:55"
time="2025-08-30 19:51:44" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:51:45" level=debug msg="Created Deployment/deployment-5-2 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 19:51:46" level=info msg="6/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:46" level=debug msg="Creating object replicas from iteration 6" file="create.go:122"
time="2025-08-30 19:51:46" level=debug msg="Created namespace: kube-burner-test-6" file="namespaces.go:55"
time="2025-08-30 19:51:46" level=debug msg="Created Deployment/deployment-5-1 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 19:51:47" level=debug msg="Created Deployment/deployment-6-1 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 19:51:48" level=info msg="7/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:48" level=debug msg="Creating object replicas from iteration 7" file="create.go:122"
time="2025-08-30 19:51:48" level=debug msg="Created namespace: kube-burner-test-7" file="namespaces.go:55"
time="2025-08-30 19:51:48" level=debug msg="Created Deployment/deployment-6-2 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 19:51:49" level=debug msg="Created Deployment/deployment-7-2 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 19:51:50" level=info msg="8/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:50" level=debug msg="Creating object replicas from iteration 8" file="create.go:122"
time="2025-08-30 19:51:50" level=debug msg="Created namespace: kube-burner-test-8" file="namespaces.go:55"
time="2025-08-30 19:51:50" level=debug msg="Created Deployment/deployment-7-1 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 19:51:51" level=debug msg="Created Deployment/deployment-8-2 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 19:51:52" level=info msg="9/10 iterations completed" file="create.go:119"
time="2025-08-30 19:51:52" level=debug msg="Creating object replicas from iteration 9" file="create.go:122"
time="2025-08-30 19:51:52" level=debug msg="Created namespace: kube-burner-test-9" file="namespaces.go:55"
time="2025-08-30 19:51:52" level=debug msg="Created Deployment/deployment-8-1 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 19:51:53" level=debug msg="Created Deployment/deployment-9-2 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 19:51:54" level=debug msg="Created Deployment/deployment-9-1 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 19:51:54" level=info msg="Job create-deployments took 20s" file="job.go:191"
time="2025-08-30 19:51:54" level=info msg="Finished execution with UUID: 3f1dcb8c-527d-489e-a217-09eb40c41c67" file="job.go:264"
time="2025-08-30 19:51:54" level=info msg="👋 Exiting kube-burner 3f1dcb8c-527d-489e-a217-09eb40c41c67" file="kube-burner.go:90"
```

- `10 iterations with 2 Deployment replicas` 메시지 확인
- Iteration마다 namespace 생성 후 2개의 Deployment 배포
- 약 20초 동안 순차적으로 20개 Deployment 배포 완료

**(2) 리소스 확인**

```bash
kubectl get ns,pod -A
```

✅ **출력**

```bash
NAME                           STATUS   AGE
namespace/default              Active   20h
namespace/kube-burner-test-0   Active   91s
namespace/kube-burner-test-1   Active   90s
namespace/kube-burner-test-2   Active   88s
namespace/kube-burner-test-3   Active   86s
namespace/kube-burner-test-4   Active   84s
namespace/kube-burner-test-5   Active   82s
namespace/kube-burner-test-6   Active   80s
namespace/kube-burner-test-7   Active   78s
namespace/kube-burner-test-8   Active   76s
namespace/kube-burner-test-9   Active   74s
namespace/kube-node-lease      Active   20h
namespace/kube-public          Active   20h
namespace/kube-system          Active   20h
namespace/local-path-storage   Active   20h
namespace/monitoring           Active   20h

NAMESPACE            NAME                                                            READY   STATUS    RESTARTS   AGE
kube-burner-test-0   pod/deployment-0-1-57bcf4684d-lmpjj                             1/1     Running   0          90s
kube-burner-test-0   pod/deployment-0-2-84d7c95f74-kjcsc                             1/1     Running   0          91s
kube-burner-test-1   pod/deployment-1-1-54cbfcc74d-4pvqj                             1/1     Running   0          88s
kube-burner-test-1   pod/deployment-1-2-78d8897bdb-k4l2t                             1/1     Running   0          89s
kube-burner-test-2   pod/deployment-2-1-745ddddfb8-d7pvk                             1/1     Running   0          86s
kube-burner-test-2   pod/deployment-2-2-5d84949f94-kk76q                             1/1     Running   0          87s
kube-burner-test-3   pod/deployment-3-1-8499f87db8-h7thf                             1/1     Running   0          85s
kube-burner-test-3   pod/deployment-3-2-5bdb7d4d9d-xzqnb                             1/1     Running   0          84s
kube-burner-test-4   pod/deployment-4-1-7d9567d97b-xgjc4                             1/1     Running   0          82s
kube-burner-test-4   pod/deployment-4-2-66ddff5574-8c8j9                             1/1     Running   0          83s
kube-burner-test-5   pod/deployment-5-1-85667697d4-w5stx                             1/1     Running   0          80s
kube-burner-test-5   pod/deployment-5-2-5db77f57c8-h5bf6                             1/1     Running   0          81s
kube-burner-test-6   pod/deployment-6-1-6fc456f68-4fgkp                              1/1     Running   0          79s
kube-burner-test-6   pod/deployment-6-2-6dc8897858-k4wdl                             1/1     Running   0          78s
kube-burner-test-7   pod/deployment-7-1-66579b497b-qrh9b                             1/1     Running   0          76s
kube-burner-test-7   pod/deployment-7-2-7596557974-zhq8j                             1/1     Running   0          77s
kube-burner-test-8   pod/deployment-8-1-7957bd45d8-52dw9                             1/1     Running   0          74s
kube-burner-test-8   pod/deployment-8-2-54dc86f686-6mhc8                             1/1     Running   0          75s
kube-burner-test-9   pod/deployment-9-1-854f98df6-vg55v                              1/1     Running   0          72s
kube-burner-test-9   pod/deployment-9-2-6fdbc6b84b-bg957                             1/1     Running   0          73s
kube-system          pod/coredns-674b8bbfcf-59lx6                                    1/1     Running   0          20h
kube-system          pod/coredns-674b8bbfcf-7s8p4                                    1/1     Running   0          20h
kube-system          pod/etcd-myk8s-control-plane                                    1/1     Running   0          20h
kube-system          pod/kindnet-4ps5d                                               1/1     Running   0          20h
kube-system          pod/kube-apiserver-myk8s-control-plane                          1/1     Running   0          20h
kube-system          pod/kube-controller-manager-myk8s-control-plane                 1/1     Running   0          20h
kube-system          pod/kube-ops-view-6658c477d4-9kln8                              1/1     Running   0          20h
kube-system          pod/kube-proxy-rh5b9                                            1/1     Running   0          20h
kube-system          pod/kube-scheduler-myk8s-control-plane                          1/1     Running   0          20h
kube-system          pod/metrics-server-5dd7b49d79-bgml9                             1/1     Running   0          20h
local-path-storage   pod/local-path-provisioner-7dc846544d-jrvnq                     1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          20h
monitoring           pod/kube-prometheus-stack-kube-state-metrics-684f8c7558-bnhx4   1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-operator-68589744f5-5pdfx             1/1     Running   0          20h
monitoring           pod/kube-prometheus-stack-prometheus-node-exporter-8vjrb        1/1     Running   0          20h
monitoring           pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          20h
```

- **10개의 테스트 네임스페이스** (`kube-burner-test-0` ~ `kube-burner-test-9`) 활성화 확인
- 각 네임스페이스에 2개씩 Pod 실행 → 총 **20개 Pod Running 상태**

![](https://velog.velcdn.com/images/tlsalswls123/post/423c4cd6-5039-47e9-a64a-ab9d4cade203/image.png)

**(3) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:53:59" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 4ce0264b-5e3d-48cc-bcf7-b5f9042015f0" file="job.go:91"
time="2025-08-30 19:53:59" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:53:59" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:53:59" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:53:59" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:53:59" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:53:59" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:53:59" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:53:59" level=info msg="Found 20 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-9-2 from namespace kube-burner-test-9" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-4-2 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-5-1 from namespace kube-burner-test-5" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-1-2 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-2-1 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-6-1 from namespace kube-burner-test-6" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-3-1 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-8-2 from namespace kube-burner-test-8" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-8-1 from namespace kube-burner-test-8" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-2-2 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-5-2 from namespace kube-burner-test-5" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-4-1 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-6-2 from namespace kube-burner-test-6" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-7-2 from namespace kube-burner-test-7" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-7-1 from namespace kube-burner-test-7" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-3-2 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-0-2 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-9-1 from namespace kube-burner-test-9" file="delete.go:55"
time="2025-08-30 19:53:59" level=debug msg="Removing Deployment/deployment-1-1 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:53:59" level=info msg="Found 10 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-9" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-5" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-7" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-6" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Removing Namespace/kube-burner-test-8" file="delete.go:58"
time="2025-08-30 19:53:59" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:54:01" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:54:03" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:54:05" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:54:07" level=info msg="Job delete-deployments-namespace took 8s" file="job.go:191"
time="2025-08-30 19:54:07" level=info msg="Finished execution with UUID: 4ce0264b-5e3d-48cc-bcf7-b5f9042015f0" file="job.go:264"
time="2025-08-30 19:54:07" level=info msg="👋 Exiting kube-burner 4ce0264b-5e3d-48cc-bcf7-b5f9042015f0" file="kube-burner.go:90"
```

**(4) qps 의미 파악**

- 현재 설정(`qps: 1`)은 **초당 1개의 오브젝트 생성 요청만 보냄**
- 따라서 jobIterations=10, replicas=2라 하더라도 빠르게 동시에 생성하지 않고 **초당 1개 요청씩 순차적으로 생성**

---

### **12. `qps: 10, burst:10` 변경**
- `qps`와 `burst` 값을 **10**으로 변경 후 실행
- `qps: 1` 대비 실행 시간이 크게 단축 (20s → 약 1s)

![](https://velog.velcdn.com/images/tlsalswls123/post/7b754bfe-2d08-4d3c-8eb1-11735b8d313e/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:55:50" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 38f5a383-15ab-4bd8-922d-7dd5d8f9c11c" file="job.go:91"
time="2025-08-30 19:55:50" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:55:50" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:55:50" level=info msg="QPS: 10" file="job.go:371"
time="2025-08-30 19:55:50" level=info msg="Burst: 10" file="job.go:378"
time="2025-08-30 19:55:50" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:55:50" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:55:50" level=info msg="Job create-deployments: 10 iterations with 2 Deployment replicas" file="create.go:84"
time="2025-08-30 19:55:50" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:55:50" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:55:50" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:55:50" level=info msg="1/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:50" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-0-2 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:55:50" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:55:50" level=info msg="2/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:50" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-1-2 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:55:50" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 19:55:50" level=info msg="3/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:50" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:55:50" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 19:55:50" level=info msg="4/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:50" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-2-2 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-3-2 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:55:50" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-4-2 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:55:50" level=info msg="5/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:50" level=debug msg="Creating object replicas from iteration 5" file="create.go:122"
time="2025-08-30 19:55:50" level=debug msg="Created namespace: kube-burner-test-5" file="namespaces.go:55"
time="2025-08-30 19:55:50" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-5-2 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 19:55:51" level=info msg="6/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:51" level=debug msg="Creating object replicas from iteration 6" file="create.go:122"
time="2025-08-30 19:55:51" level=debug msg="Created namespace: kube-burner-test-6" file="namespaces.go:55"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-5-1 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-6-2 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 19:55:51" level=info msg="7/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:51" level=debug msg="Creating object replicas from iteration 7" file="create.go:122"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-6-1 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 19:55:51" level=debug msg="Created namespace: kube-burner-test-7" file="namespaces.go:55"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-7-2 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 19:55:51" level=info msg="8/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:51" level=debug msg="Creating object replicas from iteration 8" file="create.go:122"
time="2025-08-30 19:55:51" level=debug msg="Created namespace: kube-burner-test-8" file="namespaces.go:55"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-7-1 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-8-2 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 19:55:51" level=info msg="9/10 iterations completed" file="create.go:119"
time="2025-08-30 19:55:51" level=debug msg="Creating object replicas from iteration 9" file="create.go:122"
time="2025-08-30 19:55:51" level=debug msg="Created namespace: kube-burner-test-9" file="namespaces.go:55"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-8-1 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-9-2 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 19:55:51" level=debug msg="Created Deployment/deployment-9-1 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 19:55:51" level=info msg="Job create-deployments took 1s" file="job.go:191"
time="2025-08-30 19:55:51" level=info msg="Finished execution with UUID: 38f5a383-15ab-4bd8-922d-7dd5d8f9c11c" file="job.go:264"
time="2025-08-30 19:55:51" level=info msg="👋 Exiting kube-burner 38f5a383-15ab-4bd8-922d-7dd5d8f9c11c" file="kube-burner.go:90"
```

- `QPS: 10, Burst: 10` 출력
- 실행 완료 시간 **1초 이내**로, 직전 `qps: 1` 설정(20초) 대비 대폭 단축

**(2) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:56:44" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID b1598f0d-d2fa-4234-99e3-af885013f279" file="job.go:91"
time="2025-08-30 19:56:44" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:56:44" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:56:44" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:56:44" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:56:44" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:56:44" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:56:44" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:56:44" level=info msg="Found 20 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-7-2 from namespace kube-burner-test-7" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-3-1 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-4-1 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-8-2 from namespace kube-burner-test-8" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-8-1 from namespace kube-burner-test-8" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-2-1 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-4-2 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-9-2 from namespace kube-burner-test-9" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-2-2 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-5-2 from namespace kube-burner-test-5" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-6-1 from namespace kube-burner-test-6" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-0-2 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-7-1 from namespace kube-burner-test-7" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-3-2 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-1-1 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-1-2 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-6-2 from namespace kube-burner-test-6" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-5-1 from namespace kube-burner-test-5" file="delete.go:55"
time="2025-08-30 19:56:44" level=debug msg="Removing Deployment/deployment-9-1 from namespace kube-burner-test-9" file="delete.go:55"
time="2025-08-30 19:56:44" level=info msg="Found 10 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-9" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-5" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-7" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-6" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-8" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 19:56:44" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:56:46" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:56:48" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:56:50" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:56:52" level=info msg="Job delete-deployments-namespace took 8s" file="job.go:191"
time="2025-08-30 19:56:52" level=info msg="Finished execution with UUID: b1598f0d-d2fa-4234-99e3-af885013f279" file="job.go:264"
time="2025-08-30 19:56:52" level=info msg="👋 Exiting kube-burner b1598f0d-d2fa-4234-99e3-af885013f279" file="kube-burner.go:90"
```

**(3) qps: 10 의미 정리**

- `qps: 1` → 초당 1개의 리소스 생성 요청만 허용 (순차적, 느림)
- `qps: 10` → 초당 최대 10개의 리소스 생성 요청을 병렬 전송 (병렬 처리, 빠름)

---

### **13. `jobIterations: 10, qps: 1, burst:10` `objects.replicas: 1` 변경**

- `qps: 1, burst: 10` → 초당 1개의 요청만 허용하지만, 순간적으로 최대 10개 요청을 모아 한꺼번에 보낼 수 있음
- **의도**: qps는 낮지만 burst 값으로 인해 리소스가 순차적이지 않고 “쭉 한방에” 만들어지는 현상 확인

![](https://velog.velcdn.com/images/tlsalswls123/post/6ebb924a-54ca-43d6-8c70-11c4cf2ba69b/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:59:04" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID b40df588-50a2-4f6d-a5bb-252ddfc99cc6" file="job.go:91"
time="2025-08-30 19:59:04" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 19:59:04" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:59:04" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 19:59:04" level=info msg="Burst: 10" file="job.go:378"
time="2025-08-30 19:59:04" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 19:59:04" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 19:59:04" level=info msg="Job create-deployments: 10 iterations with 1 Deployment replicas" file="create.go:84"
time="2025-08-30 19:59:04" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=info msg="1/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=info msg="2/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 19:59:04" level=info msg="3/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=info msg="4/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 19:59:04" level=info msg="5/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 5" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-5" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=info msg="6/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 6" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-6" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=info msg="7/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 7" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-5-1 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-6-1 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-7" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=info msg="8/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 8" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created namespace: kube-burner-test-8" file="namespaces.go:55"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-7-1 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 19:59:04" level=info msg="9/10 iterations completed" file="create.go:119"
time="2025-08-30 19:59:04" level=debug msg="Creating object replicas from iteration 9" file="create.go:122"
time="2025-08-30 19:59:04" level=debug msg="Created Deployment/deployment-8-1 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 19:59:05" level=debug msg="Created namespace: kube-burner-test-9" file="namespaces.go:55"
time="2025-08-30 19:59:05" level=debug msg="Created Deployment/deployment-9-1 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 19:59:05" level=info msg="Job create-deployments took 1s" file="job.go:191"
time="2025-08-30 19:59:05" level=info msg="Finished execution with UUID: b40df588-50a2-4f6d-a5bb-252ddfc99cc6" file="job.go:264"
time="2025-08-30 19:59:05" level=info msg="👋 Exiting kube-burner b40df588-50a2-4f6d-a5bb-252ddfc99cc6" file="kube-burner.go:90"
```
- `10 iterations with 1 Deployment replicas` → 10개의 Deployment 생성
- 각 네임스페이스(`kube-burner-test-0` ~ `kube-burner-test-9`) 마다 Deployment 1개씩 생성
- 실행 완료 시간 **1초** → `qps: 1`임에도 `burst: 10` 설정으로 인해 빠르게 생성됨


**(2) 리소스 삭제**
```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 19:59:32" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 28f58635-65c0-47ea-bb70-ec016096e097" file="job.go:91"
time="2025-08-30 19:59:32" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 19:59:32" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 19:59:32" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 19:59:32" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 19:59:32" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:59:32" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 19:59:32" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 19:59:32" level=info msg="Found 10 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-9-1 from namespace kube-burner-test-9" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-5-1 from namespace kube-burner-test-5" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-1-1 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-6-1 from namespace kube-burner-test-6" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-0-1 from namespace kube-burner-test-0" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-7-1 from namespace kube-burner-test-7" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-2-1 from namespace kube-burner-test-2" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-3-1 from namespace kube-burner-test-3" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-8-1 from namespace kube-burner-test-8" file="delete.go:55"
time="2025-08-30 19:59:32" level=debug msg="Removing Deployment/deployment-4-1 from namespace kube-burner-test-4" file="delete.go:55"
time="2025-08-30 19:59:32" level=info msg="Found 10 namespaces with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-6" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-9" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-5" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-8" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Removing Namespace/kube-burner-test-7" file="delete.go:58"
time="2025-08-30 19:59:32" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:59:34" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:59:36" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:59:38" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 19:59:40" level=info msg="Job delete-deployments-namespace took 8s" file="job.go:191"
time="2025-08-30 19:59:40" level=info msg="Finished execution with UUID: 28f58635-65c0-47ea-bb70-ec016096e097" file="job.go:264"
time="2025-08-30 19:59:40" level=info msg="👋 Exiting kube-burner 28f58635-65c0-47ea-bb70-ec016096e097" file="kube-burner.go:90"
```

**(3) qps: 1, burst: 10 의미**

- **`qps: 1`** → 초당 정상적으로는 1개의 요청만 허용
- **`burst: 10`** → 순간적으로 10개까지 요청을 몰아서 보낼 수 있음
- `qps: 1`이더라도 `burst: 10` 때문에 초기 요청이 병렬적으로 처리 → 리소스가 순차적이지 않고 “한 번에 몰려서” 생성된 것처럼 동작

---

### **14. `jobIterations: 100, qps: 1, burst:100` `objects.replicas: 1` 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/cf476e50-2457-49ac-923c-bf2f800ba5b0/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 20:01:54" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 2c2b5f88-d275-4242-b0b0-45fac0e4fca2" file="job.go:91"
time="2025-08-30 20:01:54" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 20:01:54" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 20:01:54" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 20:01:54" level=info msg="Burst: 100" file="job.go:378"
time="2025-08-30 20:01:54" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 20:01:54" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 20:01:54" level=info msg="Job create-deployments: 100 iterations with 1 Deployment replicas" file="create.go:84"
time="2025-08-30 20:01:54" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 20:01:54" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 20:01:54" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 20:01:54" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 20:01:54" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 20:01:54" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 20:01:54" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:01:54" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 20:01:54" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:01:54" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 20:01:54" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 20:01:54" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
...
...
time="2025-08-30 20:01:55" level=debug msg="Creating object replicas from iteration 94" file="create.go:122"
time="2025-08-30 20:01:55" level=debug msg="Created namespace: kube-burner-test-94" file="namespaces.go:55"
time="2025-08-30 20:01:55" level=debug msg="Creating object replicas from iteration 95" file="create.go:122"
time="2025-08-30 20:01:55" level=debug msg="Created Deployment/deployment-93-1 in namespace kube-burner-test-93" file="create.go:288"
time="2025-08-30 20:01:55" level=debug msg="Created namespace: kube-burner-test-95" file="namespaces.go:55"
time="2025-08-30 20:01:55" level=debug msg="Created Deployment/deployment-94-1 in namespace kube-burner-test-94" file="create.go:288"
time="2025-08-30 20:01:55" level=debug msg="Creating object replicas from iteration 96" file="create.go:122"
time="2025-08-30 20:01:55" level=debug msg="Created namespace: kube-burner-test-96" file="namespaces.go:55"
time="2025-08-30 20:01:55" level=debug msg="Creating object replicas from iteration 97" file="create.go:122"
time="2025-08-30 20:01:55" level=debug msg="Created Deployment/deployment-95-1 in namespace kube-burner-test-95" file="create.go:288"
time="2025-08-30 20:01:55" level=debug msg="Created Deployment/deployment-96-1 in namespace kube-burner-test-96" file="create.go:288"
time="2025-08-30 20:01:55" level=debug msg="Created namespace: kube-burner-test-97" file="namespaces.go:55"
time="2025-08-30 20:01:55" level=debug msg="Creating object replicas from iteration 98" file="create.go:122"
time="2025-08-30 20:01:55" level=debug msg="Created namespace: kube-burner-test-98" file="namespaces.go:55"
time="2025-08-30 20:01:55" level=debug msg="Creating object replicas from iteration 99" file="create.go:122"
time="2025-08-30 20:01:55" level=debug msg="Created Deployment/deployment-97-1 in namespace kube-burner-test-97" file="create.go:288"
time="2025-08-30 20:01:55" level=debug msg="Created Deployment/deployment-98-1 in namespace kube-burner-test-98" file="create.go:288"
time="2025-08-30 20:01:55" level=debug msg="Created namespace: kube-burner-test-99" file="namespaces.go:55"
time="2025-08-30 20:01:55" level=debug msg="Created Deployment/deployment-99-1 in namespace kube-burner-test-99" file="create.go:288"
time="2025-08-30 20:01:55" level=info msg="Job create-deployments took 1s" file="job.go:191"
time="2025-08-30 20:01:55" level=info msg="Finished execution with UUID: 2c2b5f88-d275-4242-b0b0-45fac0e4fca2" file="job.go:264"
time="2025-08-30 20:01:55" level=info msg="👋 Exiting kube-burner 2c2b5f88-d275-4242-b0b0-45fac0e4fca2" file="kube-burner.go:90"
```
- `100 iterations with 1 Deployment replicas` → 100개의 Deployment 생성
- 네임스페이스(`kube-burner-test-0` ~ `kube-burner-test-99`) 각각에 Deployment 1개씩 생성
- 실행 완료 시간 **1초** → `qps: 1`이지만 `burst: 100`으로 인해 한 번에 대량 리소스 생성 처리됨

**(2) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 20:03:31" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID d47aceca-7650-48c9-8522-868e45186e8e" file="job.go:91"
time="2025-08-30 20:03:31" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 20:03:31" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 20:03:31" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 20:03:31" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 20:03:31" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 20:03:31" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 20:03:31" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 20:03:31" level=info msg="Found 100 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-10-1 from namespace kube-burner-test-10" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-45-1 from namespace kube-burner-test-45" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-39-1 from namespace kube-burner-test-39" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-58-1 from namespace kube-burner-test-58" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-64-1 from namespace kube-burner-test-64" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-65-1 from namespace kube-burner-test-65" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-75-1 from namespace kube-burner-test-75" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-97-1 from namespace kube-burner-test-97" file="delete.go:55"
time="2025-08-30 20:03:31" level=debug msg="Removing Deployment/deployment-14-1 from namespace kube-burner-test-14" file="delete.go:55"
....
time="2025-08-30 20:03:31" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:33" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:35" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:37" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:39" level=debug msg="Waiting for 94 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:41" level=debug msg="Waiting for 94 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:43" level=debug msg="Waiting for 87 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:45" level=debug msg="Waiting for 74 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:47" level=debug msg="Waiting for 59 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:49" level=debug msg="Waiting for 48 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:51" level=debug msg="Waiting for 37 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:53" level=debug msg="Waiting for 25 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:55" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:57" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:03:59" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:01" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:03" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:05" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:07" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:09" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:11" level=debug msg="Waiting for 7 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:13" level=debug msg="Waiting for 7 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:15" level=debug msg="Waiting for 2 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:04:17" level=info msg="Job delete-deployments-namespace took 46s" file="job.go:191"
time="2025-08-30 20:04:17" level=info msg="Finished execution with UUID: d47aceca-7650-48c9-8522-868e45186e8e" file="job.go:264"
time="2025-08-30 20:04:17" level=info msg="👋 Exiting kube-burner d47aceca-7650-48c9-8522-868e45186e8e" file="kube-burner.go:90"
```

---

### **15. `jobIterations: 10, qps: 1, burst:20` `objects.replicas: 2` 변경**
- qps가 낮게 설정되어도 burst가 크면 실제 생성 속도에 어떤 영향이 있는지 확인

![](https://velog.velcdn.com/images/tlsalswls123/post/47b27929-347d-4151-aca9-e6222dfdc451/image.png)


**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 20:07:26" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 6f5bdb1f-4fcf-4c63-b6db-d83ab14f262a" file="job.go:91"
time="2025-08-30 20:07:26" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 20:07:26" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 20:07:26" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 20:07:26" level=info msg="Burst: 20" file="job.go:378"
time="2025-08-30 20:07:26" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 20:07:26" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 20:07:26" level=info msg="Job create-deployments: 10 iterations with 2 Deployment replicas" file="create.go:84"
time="2025-08-30 20:07:26" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=info msg="1/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-0-2 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:07:26" level=info msg="2/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-1-2 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:07:26" level=info msg="3/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-2-2 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=info msg="4/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=info msg="5/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 5" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-3-2 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-5" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-4-2 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 20:07:26" level=info msg="6/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 6" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-5-2 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-5-1 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-6" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=info msg="7/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 7" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-6-1 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-6-2 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-7" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=info msg="8/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 8" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-8" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-7-2 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-7-1 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 20:07:26" level=info msg="9/10 iterations completed" file="create.go:119"
time="2025-08-30 20:07:26" level=debug msg="Creating object replicas from iteration 9" file="create.go:122"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-8-2 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-8-1 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 20:07:26" level=debug msg="Created namespace: kube-burner-test-9" file="namespaces.go:55"
time="2025-08-30 20:07:26" level=debug msg="Created Deployment/deployment-9-2 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 20:07:27" level=debug msg="Created Deployment/deployment-9-1 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 20:07:27" level=info msg="Job create-deployments took 1s" file="job.go:191"
time="2025-08-30 20:07:27" level=info msg="Finished execution with UUID: 6f5bdb1f-4fcf-4c63-b6db-d83ab14f262a" file="job.go:264"
time="2025-08-30 20:07:27" level=info msg="👋 Exiting kube-burner 6f5bdb1f-4fcf-4c63-b6db-d83ab14f262a" file="kube-burner.go:90"
```

- `10 iterations with 2 Deployment replicas` → 총 20개 Deployment 생성
- 네임스페이스 `kube-burner-test-0` ~ `kube-burner-test-9` 생성됨
- 실행 완료 시간: **1초**
- `qps: 1`로 표기되었음에도 `burst: 20` 덕분에 빠르게 처리됨 → 사실상 qps가 제한적으로만 적용된 것처럼 보임

**(2) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
...
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-9" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-7" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-8" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-5" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Removing Namespace/kube-burner-test-6" file="delete.go:58"
time="2025-08-30 20:09:04" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:09:06" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:09:08" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:09:10" level=debug msg="Waiting for 8 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:09:12" level=info msg="Job delete-deployments-namespace took 8s" file="job.go:191"
time="2025-08-30 20:09:12" level=info msg="Finished execution with UUID: d6df60a8-7d7a-4a9c-bd0e-5a03d1cafa80" file="job.go:264"
time="2025-08-30 20:09:12" level=info msg="👋 Exiting kube-burner d6df60a8-7d7a-4a9c-bd0e-5a03d1cafa80" file="kube-burner.go:90"
```

---

### **16. `jobIterations: 10, qps: 1, burst:10` `objects.replicas: 2` 변경**

- 이전 테스트(`burst:20`)와 비교하여 **Burst 크기가 부족할 경우 생성 속도 차이** 확인

![](https://velog.velcdn.com/images/tlsalswls123/post/04164885-9e8e-4742-b8bd-87d97f74cf8c/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 20:10:21" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID d1b88ecc-b7cb-4247-8855-c145ab0917c8" file="job.go:91"
time="2025-08-30 20:10:21" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 20:10:21" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 20:10:21" level=info msg="QPS: 1" file="job.go:371"
time="2025-08-30 20:10:21" level=info msg="Burst: 10" file="job.go:378"
time="2025-08-30 20:10:21" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 20:10:21" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 20:10:21" level=info msg="Job create-deployments: 10 iterations with 2 Deployment replicas" file="create.go:84"
time="2025-08-30 20:10:21" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 20:10:21" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 20:10:21" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 20:10:21" level=info msg="1/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:21" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 20:10:21" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-0-2 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:10:21" level=info msg="2/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:21" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:10:21" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-1-2 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:10:21" level=info msg="3/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:21" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-2-2 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 20:10:21" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 20:10:21" level=info msg="4/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:21" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 20:10:21" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-3-2 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 20:10:21" level=debug msg="Created Deployment/deployment-4-2 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 20:10:22" level=info msg="5/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:22" level=debug msg="Creating object replicas from iteration 5" file="create.go:122"
time="2025-08-30 20:10:22" level=debug msg="Created namespace: kube-burner-test-5" file="namespaces.go:55"
time="2025-08-30 20:10:22" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 20:10:23" level=debug msg="Created Deployment/deployment-5-2 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 20:10:24" level=info msg="6/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:24" level=debug msg="Creating object replicas from iteration 6" file="create.go:122"
time="2025-08-30 20:10:24" level=debug msg="Created namespace: kube-burner-test-6" file="namespaces.go:55"
time="2025-08-30 20:10:24" level=debug msg="Created Deployment/deployment-5-1 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 20:10:25" level=debug msg="Created Deployment/deployment-6-2 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 20:10:26" level=info msg="7/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:26" level=debug msg="Creating object replicas from iteration 7" file="create.go:122"
time="2025-08-30 20:10:26" level=debug msg="Created namespace: kube-burner-test-7" file="namespaces.go:55"
time="2025-08-30 20:10:26" level=debug msg="Created Deployment/deployment-6-1 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 20:10:27" level=debug msg="Created Deployment/deployment-7-2 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 20:10:28" level=info msg="8/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:28" level=debug msg="Creating object replicas from iteration 8" file="create.go:122"
time="2025-08-30 20:10:28" level=debug msg="Created namespace: kube-burner-test-8" file="namespaces.go:55"
time="2025-08-30 20:10:28" level=debug msg="Created Deployment/deployment-7-1 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 20:10:29" level=debug msg="Created Deployment/deployment-8-2 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 20:10:30" level=info msg="9/10 iterations completed" file="create.go:119"
time="2025-08-30 20:10:30" level=debug msg="Creating object replicas from iteration 9" file="create.go:122"
time="2025-08-30 20:10:30" level=debug msg="Created Deployment/deployment-8-1 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 20:10:30" level=debug msg="Created namespace: kube-burner-test-9" file="namespaces.go:55"
time="2025-08-30 20:10:31" level=debug msg="Created Deployment/deployment-9-2 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 20:10:32" level=debug msg="Created Deployment/deployment-9-1 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 20:10:32" level=info msg="Job create-deployments took 11s" file="job.go:191"
time="2025-08-30 20:10:32" level=info msg="Finished execution with UUID: d1b88ecc-b7cb-4247-8855-c145ab0917c8" file="job.go:264"
time="2025-08-30 20:10:32" level=info msg="👋 Exiting kube-burner d1b88ecc-b7cb-4247-8855-c145ab0917c8" file="kube-burner.go:90"
```

- `10 iterations with 2 Deployment replicas` → 총 20개 Deployment 생성
- 네임스페이스 `kube-burner-test-0` ~ `kube-burner-test-9` 생성
- 완료 시간: **11초** (이전 `burst:20` 실험은 1초)
- **차이점**: `burst: 10`이 20개의 요청을 한 번에 소화하지 못해, 요청이 순차적으로 나눠져 실행됨 → `qps: 1` 제한이 체감됨

**(2) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
...
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-9" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-7" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-6" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-5" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Removing Namespace/kube-burner-test-8" file="delete.go:58"
time="2025-08-30 20:12:24" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:12:26" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:12:28" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:12:30" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:12:32" level=info msg="Job delete-deployments-namespace took 8s" file="job.go:191"
time="2025-08-30 20:12:32" level=info msg="Finished execution with UUID: 84cfb227-34c4-49a6-9120-bdcf303a8447" file="job.go:264"
time="2025-08-30 20:12:32" level=info msg="👋 Exiting kube-burner 84cfb227-34c4-49a6-9120-bdcf303a8447" file="kube-burner.go:90
```

**(3) 관찰 결과**

- **`burst: 20`** → 순간적으로 모든 요청(20개)을 한 번에 처리 가능 → 실행 1초 만에 완료
- **`burst: 10`** → 동시 처리 가능 요청이 절반(10개)이라 나머지 요청은 대기 → 실행 11초 걸림
- 따라서 **burst 값이 qps와 함께 실제 리소스 생성 속도에 큰 영향을 미침**
- 결론적으로, `qps: 1`이라도 burst 크기가 충분하면 빠르게 생성되고, 부족하면 지연됨

---

### **17. `jobIterations: 20, qps: 2, burst:20` `objects.replicas: 2` 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/3e820d98-6b72-45d2-9685-0e101b94ed4c/image.png)

**(1) 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 20:14:18" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID c8ba0111-2ed5-47b9-a47f-317b9b092001" file="job.go:91"
time="2025-08-30 20:14:18" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 20:14:18" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 20:14:18" level=info msg="QPS: 2" file="job.go:371"
time="2025-08-30 20:14:18" level=info msg="Burst: 20" file="job.go:378"
time="2025-08-30 20:14:18" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 20:14:18" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 20:14:18" level=info msg="Job create-deployments: 20 iterations with 2 Deployment replicas" file="create.go:84"
time="2025-08-30 20:14:18" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-0-2 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:14:18" level=info msg="2/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-1-2 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 3" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-3" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-2-1 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-2-2 in namespace kube-burner-test-2" file="create.go:288"
time="2025-08-30 20:14:18" level=info msg="4/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 4" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-4" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-3-2 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-3-1 in namespace kube-burner-test-3" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 5" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-5" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-4-2 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 20:14:18" level=info msg="6/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 6" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-4-1 in namespace kube-burner-test-4" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-6" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-5-2 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 7" file="create.go:122"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-5-1 in namespace kube-burner-test-5" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-6-2 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 20:14:18" level=debug msg="Created namespace: kube-burner-test-7" file="namespaces.go:55"
time="2025-08-30 20:14:18" level=debug msg="Created Deployment/deployment-6-1 in namespace kube-burner-test-6" file="create.go:288"
time="2025-08-30 20:14:18" level=info msg="8/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:18" level=debug msg="Creating object replicas from iteration 8" file="create.go:122"
time="2025-08-30 20:14:19" level=debug msg="Created namespace: kube-burner-test-8" file="namespaces.go:55"
time="2025-08-30 20:14:19" level=debug msg="Created Deployment/deployment-7-1 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 20:14:19" level=debug msg="Created Deployment/deployment-7-2 in namespace kube-burner-test-7" file="create.go:288"
time="2025-08-30 20:14:19" level=debug msg="Creating object replicas from iteration 9" file="create.go:122"
time="2025-08-30 20:14:19" level=debug msg="Created namespace: kube-burner-test-9" file="namespaces.go:55"
time="2025-08-30 20:14:19" level=debug msg="Created Deployment/deployment-8-2 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 20:14:19" level=debug msg="Created Deployment/deployment-8-1 in namespace kube-burner-test-8" file="create.go:288"
time="2025-08-30 20:14:19" level=debug msg="Created Deployment/deployment-9-2 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 20:14:19" level=info msg="10/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:19" level=debug msg="Creating object replicas from iteration 10" file="create.go:122"
time="2025-08-30 20:14:19" level=debug msg="Created namespace: kube-burner-test-10" file="namespaces.go:55"
time="2025-08-30 20:14:19" level=debug msg="Created Deployment/deployment-9-1 in namespace kube-burner-test-9" file="create.go:288"
time="2025-08-30 20:14:19" level=debug msg="Created Deployment/deployment-10-2 in namespace kube-burner-test-10" file="create.go:288"
time="2025-08-30 20:14:20" level=debug msg="Creating object replicas from iteration 11" file="create.go:122"
time="2025-08-30 20:14:20" level=debug msg="Created Deployment/deployment-10-1 in namespace kube-burner-test-10" file="create.go:288"
time="2025-08-30 20:14:20" level=debug msg="Created namespace: kube-burner-test-11" file="namespaces.go:55"
time="2025-08-30 20:14:20" level=debug msg="Created Deployment/deployment-11-2 in namespace kube-burner-test-11" file="create.go:288"
time="2025-08-30 20:14:21" level=info msg="12/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:21" level=debug msg="Creating object replicas from iteration 12" file="create.go:122"
time="2025-08-30 20:14:21" level=debug msg="Created namespace: kube-burner-test-12" file="namespaces.go:55"
time="2025-08-30 20:14:21" level=debug msg="Created Deployment/deployment-11-1 in namespace kube-burner-test-11" file="create.go:288"
time="2025-08-30 20:14:21" level=debug msg="Created Deployment/deployment-12-2 in namespace kube-burner-test-12" file="create.go:288"
time="2025-08-30 20:14:22" level=debug msg="Creating object replicas from iteration 13" file="create.go:122"
time="2025-08-30 20:14:22" level=debug msg="Created namespace: kube-burner-test-13" file="namespaces.go:55"
time="2025-08-30 20:14:22" level=debug msg="Created Deployment/deployment-12-1 in namespace kube-burner-test-12" file="create.go:288"
time="2025-08-30 20:14:22" level=debug msg="Created Deployment/deployment-13-2 in namespace kube-burner-test-13" file="create.go:288"
time="2025-08-30 20:14:23" level=info msg="14/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:23" level=debug msg="Creating object replicas from iteration 14" file="create.go:122"
time="2025-08-30 20:14:23" level=debug msg="Created Deployment/deployment-13-1 in namespace kube-burner-test-13" file="create.go:288"
time="2025-08-30 20:14:23" level=debug msg="Created namespace: kube-burner-test-14" file="namespaces.go:55"
time="2025-08-30 20:14:23" level=debug msg="Created Deployment/deployment-14-2 in namespace kube-burner-test-14" file="create.go:288"
time="2025-08-30 20:14:24" level=debug msg="Creating object replicas from iteration 15" file="create.go:122"
time="2025-08-30 20:14:24" level=debug msg="Created namespace: kube-burner-test-15" file="namespaces.go:55"
time="2025-08-30 20:14:24" level=debug msg="Created Deployment/deployment-14-1 in namespace kube-burner-test-14" file="create.go:288"
time="2025-08-30 20:14:24" level=debug msg="Created Deployment/deployment-15-2 in namespace kube-burner-test-15" file="create.go:288"
time="2025-08-30 20:14:25" level=info msg="16/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:25" level=debug msg="Creating object replicas from iteration 16" file="create.go:122"
time="2025-08-30 20:14:25" level=debug msg="Created namespace: kube-burner-test-16" file="namespaces.go:55"
time="2025-08-30 20:14:25" level=debug msg="Created Deployment/deployment-15-1 in namespace kube-burner-test-15" file="create.go:288"
time="2025-08-30 20:14:25" level=debug msg="Created Deployment/deployment-16-2 in namespace kube-burner-test-16" file="create.go:288"
time="2025-08-30 20:14:26" level=debug msg="Creating object replicas from iteration 17" file="create.go:122"
time="2025-08-30 20:14:26" level=debug msg="Created namespace: kube-burner-test-17" file="namespaces.go:55"
time="2025-08-30 20:14:26" level=debug msg="Created Deployment/deployment-16-1 in namespace kube-burner-test-16" file="create.go:288"
time="2025-08-30 20:14:26" level=debug msg="Created Deployment/deployment-17-2 in namespace kube-burner-test-17" file="create.go:288"
time="2025-08-30 20:14:27" level=info msg="18/20 iterations completed" file="create.go:119"
time="2025-08-30 20:14:27" level=debug msg="Creating object replicas from iteration 18" file="create.go:122"
time="2025-08-30 20:14:27" level=debug msg="Created namespace: kube-burner-test-18" file="namespaces.go:55"
time="2025-08-30 20:14:27" level=debug msg="Created Deployment/deployment-17-1 in namespace kube-burner-test-17" file="create.go:288"
time="2025-08-30 20:14:27" level=debug msg="Created Deployment/deployment-18-2 in namespace kube-burner-test-18" file="create.go:288"
time="2025-08-30 20:14:28" level=debug msg="Creating object replicas from iteration 19" file="create.go:122"
time="2025-08-30 20:14:28" level=debug msg="Created namespace: kube-burner-test-19" file="namespaces.go:55"
time="2025-08-30 20:14:28" level=debug msg="Created Deployment/deployment-18-1 in namespace kube-burner-test-18" file="create.go:288"
time="2025-08-30 20:14:28" level=debug msg="Created Deployment/deployment-19-2 in namespace kube-burner-test-19" file="create.go:288"
time="2025-08-30 20:14:29" level=debug msg="Created Deployment/deployment-19-1 in namespace kube-burner-test-19" file="create.go:288"
time="2025-08-30 20:14:29" level=info msg="Job create-deployments took 11s" file="job.go:191"
time="2025-08-30 20:14:29" level=info msg="Finished execution with UUID: c8ba0111-2ed5-47b9-a47f-317b9b092001" file="job.go:264"
time="2025-08-30 20:14:29" level=info msg="👋 Exiting kube-burner c8ba0111-2ed5-47b9-a47f-317b9b092001" file="kube-burner.go:90"
```

- `20 iterations with 2 Deployment replicas` → 총 40개 Deployment 생성
- 네임스페이스 `kube-burner-test-0` ~ `kube-burner-test-19` 생성
- 실행 시간: **11초**
- 이전(`burst:10`, `qps: 1`)보다 동시 처리량이 올라가면서 속도 개선

**(2) 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
...
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-9" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-11" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-12" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-14" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-4" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-15" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-5" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-1" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-16" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-17" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-7" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-3" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-18" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-0" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-2" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-13" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-8" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-19" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-10" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Removing Namespace/kube-burner-test-6" file="delete.go:58"
time="2025-08-30 20:55:27" level=debug msg="Waiting for 20 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:55:29" level=debug msg="Waiting for 20 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:55:31" level=debug msg="Waiting for 20 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:55:33" level=debug msg="Waiting for 20 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:55:35" level=debug msg="Waiting for 7 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 20:55:37" level=info msg="Job delete-deployments-namespace took 10s" file="job.go:191"
time="2025-08-30 20:55:37" level=info msg="Finished execution with UUID: 307d4e7f-595b-4188-93eb-1691c85831cf" file="job.go:264"
time="2025-08-30 20:55:37" level=info msg="👋 Exiting kube-burner 307d4e7f-595b-4188-93eb-1691c85831cf" file="kube-burner.go:90"
```

---

## **🚀 시나리오 2 : 노드 1대에 최대 파드(150개) 배포 시도 1**

### **1. `jobIterations: 100, qps: 300, burst: 300` `objects.replicas: 1` 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/b71ad411-faa1-452b-98b3-a77f91c61d5a/image.png)

### **2. 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 20:59:08" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID cad7b74c-31d3-4bfc-ba9c-71bbdbf3b7f4" file="job.go:91"
time="2025-08-30 20:59:08" level=warning msg="Measurement [none] is not supported" file="factory.go:101"
time="2025-08-30 20:59:08" level=debug msg="job.MaxWaitTimeout is zero in create-deployments, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 20:59:08" level=info msg="QPS: 300" file="job.go:371"
time="2025-08-30 20:59:08" level=info msg="Burst: 300" file="job.go:378"
time="2025-08-30 20:59:08" level=debug msg="Preparing create job: create-deployments" file="create.go:46"
time="2025-08-30 20:59:08" level=debug msg="Rendering template: s1-deployment.yaml" file="create.go:52"
time="2025-08-30 20:59:08" level=info msg="Job create-deployments: 100 iterations with 1 Deployment replicas" file="create.go:84"
time="2025-08-30 20:59:08" level=info msg="Triggering job: create-deployments" file="job.go:122"
time="2025-08-30 20:59:08" level=debug msg="Creating object replicas from iteration 0" file="create.go:122"
time="2025-08-30 20:59:08" level=debug msg="Created namespace: kube-burner-test-0" file="namespaces.go:55"
time="2025-08-30 20:59:08" level=debug msg="Creating object replicas from iteration 1" file="create.go:122"
time="2025-08-30 20:59:08" level=debug msg="Created namespace: kube-burner-test-1" file="namespaces.go:55"
time="2025-08-30 20:59:08" level=debug msg="Creating object replicas from iteration 2" file="create.go:122"
time="2025-08-30 20:59:08" level=debug msg="Created Deployment/deployment-0-1 in namespace kube-burner-test-0" file="create.go:288"
time="2025-08-30 20:59:08" level=debug msg="Created Deployment/deployment-1-1 in namespace kube-burner-test-1" file="create.go:288"
time="2025-08-30 20:59:08" level=debug msg="Created namespace: kube-burner-test-2" file="namespaces.go:55"
...
...
time="2025-08-30 20:59:09" level=debug msg="Created Deployment/deployment-94-1 in namespace kube-burner-test-94" file="create.go:288"
time="2025-08-30 20:59:09" level=debug msg="Creating object replicas from iteration 96" file="create.go:122"
time="2025-08-30 20:59:09" level=debug msg="Created namespace: kube-burner-test-96" file="namespaces.go:55"
time="2025-08-30 20:59:09" level=debug msg="Created Deployment/deployment-95-1 in namespace kube-burner-test-95" file="create.go:288"
time="2025-08-30 20:59:09" level=debug msg="Creating object replicas from iteration 97" file="create.go:122"
time="2025-08-30 20:59:09" level=debug msg="Created Deployment/deployment-96-1 in namespace kube-burner-test-96" file="create.go:288"
time="2025-08-30 20:59:09" level=debug msg="Created namespace: kube-burner-test-97" file="namespaces.go:55"
time="2025-08-30 20:59:09" level=debug msg="Creating object replicas from iteration 98" file="create.go:122"
time="2025-08-30 20:59:09" level=debug msg="Created namespace: kube-burner-test-98" file="namespaces.go:55"
time="2025-08-30 20:59:09" level=debug msg="Creating object replicas from iteration 99" file="create.go:122"
time="2025-08-30 20:59:09" level=debug msg="Created Deployment/deployment-97-1 in namespace kube-burner-test-97" file="create.go:288"
time="2025-08-30 20:59:09" level=debug msg="Created Deployment/deployment-98-1 in namespace kube-burner-test-98" file="create.go:288"
time="2025-08-30 20:59:09" level=debug msg="Created namespace: kube-burner-test-99" file="namespaces.go:55"
time="2025-08-30 20:59:09" level=debug msg="Created Deployment/deployment-99-1 in namespace kube-burner-test-99" file="create.go:288"
time="2025-08-30 20:59:09" level=info msg="Job create-deployments took 1s" file="job.go:191"
time="2025-08-30 20:59:09" level=info msg="Finished execution with UUID: cad7b74c-31d3-4bfc-ba9c-71bbdbf3b7f4" file="job.go:264"
time="2025-08-30 20:59:09" level=info msg="👋 Exiting kube-burner cad7b74c-31d3-4bfc-ba9c-71bbdbf3b7f4" file="kube-burner.go:90"
```

- 100개 네임스페이스 `kube-burner-test-0` ~ `kube-burner-test-99` 생성
- 총 100개 Deployment(=Pod) 생성 요청

### **3. 배포 현황 확인**

```bash
kubectl get ns,pod -A
```

✅ **출력**

```bash
NAME                            STATUS   AGE
namespace/default               Active   21h
namespace/kube-burner-test-0    Active   2m16s
namespace/kube-burner-test-1    Active   2m16s
namespace/kube-burner-test-10   Active   2m16s
namespace/kube-burner-test-11   Active   2m16s
namespace/kube-burner-test-12   Active   2m16s
namespace/kube-burner-test-13   Active   2m16s
namespace/kube-burner-test-14   Active   2m16s
namespace/kube-burner-test-15   Active   2m16s
namespace/kube-burner-test-16   Active   2m16s
namespace/kube-burner-test-17   Active   2m16s
namespace/kube-burner-test-18   Active   2m16s
namespace/kube-burner-test-19   Active   2m16s
namespace/kube-burner-test-2    Active   2m16s
namespace/kube-burner-test-20   Active   2m16s
namespace/kube-burner-test-21   Active   2m15s
namespace/kube-burner-test-22   Active   2m15s
namespace/kube-burner-test-23   Active   2m15s
namespace/kube-burner-test-24   Active   2m15s
namespace/kube-burner-test-25   Active   2m15s
namespace/kube-burner-test-26   Active   2m15s
namespace/kube-burner-test-27   Active   2m15s
namespace/kube-burner-test-28   Active   2m15s
namespace/kube-burner-test-29   Active   2m15s
namespace/kube-burner-test-3    Active   2m16s
namespace/kube-burner-test-30   Active   2m15s
namespace/kube-burner-test-31   Active   2m15s
namespace/kube-burner-test-32   Active   2m15s
namespace/kube-burner-test-33   Active   2m15s
namespace/kube-burner-test-34   Active   2m15s
namespace/kube-burner-test-35   Active   2m15s
namespace/kube-burner-test-36   Active   2m15s
namespace/kube-burner-test-37   Active   2m15s
namespace/kube-burner-test-38   Active   2m15s
namespace/kube-burner-test-39   Active   2m15s
namespace/kube-burner-test-4    Active   2m16s
namespace/kube-burner-test-40   Active   2m15s
namespace/kube-burner-test-41   Active   2m15s
namespace/kube-burner-test-42   Active   2m15s
namespace/kube-burner-test-43   Active   2m15s
namespace/kube-burner-test-44   Active   2m15s
namespace/kube-burner-test-45   Active   2m15s
namespace/kube-burner-test-46   Active   2m15s
namespace/kube-burner-test-47   Active   2m15s
namespace/kube-burner-test-48   Active   2m15s
namespace/kube-burner-test-49   Active   2m15s
namespace/kube-burner-test-5    Active   2m16s
namespace/kube-burner-test-50   Active   2m15s
namespace/kube-burner-test-51   Active   2m15s
namespace/kube-burner-test-52   Active   2m15s
namespace/kube-burner-test-53   Active   2m15s
namespace/kube-burner-test-54   Active   2m15s
namespace/kube-burner-test-55   Active   2m15s
namespace/kube-burner-test-56   Active   2m15s
namespace/kube-burner-test-57   Active   2m15s
namespace/kube-burner-test-58   Active   2m15s
namespace/kube-burner-test-59   Active   2m15s
namespace/kube-burner-test-6    Active   2m16s
namespace/kube-burner-test-60   Active   2m15s
namespace/kube-burner-test-61   Active   2m15s
namespace/kube-burner-test-62   Active   2m15s
namespace/kube-burner-test-63   Active   2m15s
namespace/kube-burner-test-64   Active   2m15s
namespace/kube-burner-test-65   Active   2m15s
namespace/kube-burner-test-66   Active   2m15s
namespace/kube-burner-test-67   Active   2m15s
namespace/kube-burner-test-68   Active   2m15s
namespace/kube-burner-test-69   Active   2m15s
namespace/kube-burner-test-7    Active   2m16s
namespace/kube-burner-test-70   Active   2m15s
namespace/kube-burner-test-71   Active   2m15s
namespace/kube-burner-test-72   Active   2m15s
namespace/kube-burner-test-73   Active   2m15s
namespace/kube-burner-test-74   Active   2m15s
namespace/kube-burner-test-75   Active   2m15s
namespace/kube-burner-test-76   Active   2m15s
namespace/kube-burner-test-77   Active   2m15s
namespace/kube-burner-test-78   Active   2m15s
namespace/kube-burner-test-79   Active   2m15s
namespace/kube-burner-test-8    Active   2m16s
namespace/kube-burner-test-80   Active   2m15s
namespace/kube-burner-test-81   Active   2m15s
namespace/kube-burner-test-82   Active   2m15s
namespace/kube-burner-test-83   Active   2m15s
namespace/kube-burner-test-84   Active   2m15s
namespace/kube-burner-test-85   Active   2m15s
namespace/kube-burner-test-86   Active   2m15s
namespace/kube-burner-test-87   Active   2m15s
namespace/kube-burner-test-88   Active   2m15s
namespace/kube-burner-test-89   Active   2m15s
namespace/kube-burner-test-9    Active   2m16s
namespace/kube-burner-test-90   Active   2m15s
namespace/kube-burner-test-91   Active   2m15s
namespace/kube-burner-test-92   Active   2m15s
namespace/kube-burner-test-93   Active   2m15s
namespace/kube-burner-test-94   Active   2m15s
namespace/kube-burner-test-95   Active   2m15s
namespace/kube-burner-test-96   Active   2m15s
namespace/kube-burner-test-97   Active   2m15s
namespace/kube-burner-test-98   Active   2m15s
namespace/kube-burner-test-99   Active   2m15s
namespace/kube-node-lease       Active   21h
namespace/kube-public           Active   21h
namespace/kube-system           Active   21h
namespace/local-path-storage    Active   21h
namespace/monitoring            Active   21h

NAMESPACE             NAME                                                            READY   STATUS    RESTARTS   AGE
kube-burner-test-0    pod/deployment-0-1-558f6bc5c7-fbjpn                             1/1     Running   0          2m16s
kube-burner-test-1    pod/deployment-1-1-77df8c5889-jngb5                             1/1     Running   0          2m15s
kube-burner-test-10   pod/deployment-10-1-6bf9c58fb9-8gmvq                            1/1     Running   0          2m15s
kube-burner-test-11   pod/deployment-11-1-869cb58c95-zl5v6                            1/1     Running   0          2m15s
kube-burner-test-12   pod/deployment-12-1-5d998b4689-zvstm                            1/1     Running   0          2m14s
kube-burner-test-13   pod/deployment-13-1-79675495-cpvpm                              1/1     Running   0          2m14s
kube-burner-test-14   pod/deployment-14-1-7c9fd7dc45-8ndhq                            1/1     Running   0          2m14s
kube-burner-test-15   pod/deployment-15-1-7d6bfc7667-shv28                            1/1     Running   0          2m14s
kube-burner-test-16   pod/deployment-16-1-6c9c8cc4f-c4zzv                             1/1     Running   0          2m13s
kube-burner-test-17   pod/deployment-17-1-7c4689879-skbg6                             1/1     Running   0          2m13s
kube-burner-test-18   pod/deployment-18-1-5768b97f9c-295s8                            1/1     Running   0          2m13s
kube-burner-test-19   pod/deployment-19-1-96bf9c6f9-2fjr4                             1/1     Running   0          2m13s
kube-burner-test-2    pod/deployment-2-1-7f64586c97-j6f58                             1/1     Running   0          2m16s
kube-burner-test-20   pod/deployment-20-1-dc84b8cf9-njrcz                             1/1     Running   0          2m13s
kube-burner-test-21   pod/deployment-21-1-6794997969-l548l                            1/1     Running   0          2m12s
kube-burner-test-22   pod/deployment-22-1-5bdd87c879-crg26                            1/1     Running   0          2m12s
kube-burner-test-23   pod/deployment-23-1-5f7fbfc957-wbz85                            1/1     Running   0          2m12s
kube-burner-test-24   pod/deployment-24-1-7fd8cbfdd7-j5dv5                            1/1     Running   0          2m12s
kube-burner-test-25   pod/deployment-25-1-68f7cbcf8f-gfr6f                            1/1     Running   0          2m11s
kube-burner-test-26   pod/deployment-26-1-c958f8df5-mjph4                             1/1     Running   0          2m11s
kube-burner-test-27   pod/deployment-27-1-7c84958cf7-grm7w                            1/1     Running   0          2m11s
kube-burner-test-28   pod/deployment-28-1-569577dff-xtt5m                              1/1     Running   0          2m11s
kube-burner-test-29   pod/deployment-29-1-7d44f4ddd9-phgr7                            1/1     Running   0          2m11s
kube-burner-test-3    pod/deployment-3-1-7f4c96f88f-pzt5d                             1/1     Running   0          2m15s
kube-burner-test-30   pod/deployment-30-1-7f479569c7-6q7zw                            1/1     Running   0          2m10s
kube-burner-test-31   pod/deployment-31-1-54d8c66795-b4r2p                            1/1     Running   0          2m10s
kube-burner-test-32   pod/deployment-32-1-6cf6d4578f-d2tzh                            1/1     Running   0          2m10s
kube-burner-test-33   pod/deployment-33-1-7b597ccb95-trjtk                            1/1     Running   0          2m10s
kube-burner-test-34   pod/deployment-34-1-f747fdbf-s6wk8                              1/1     Running   0          2m9s
kube-burner-test-35   pod/deployment-35-1-5c97979dc5-c22zd                            1/1     Running   0          2m9s
kube-burner-test-36   pod/deployment-36-1-749695bd65-9fl7v                             1/1     Running   0          2m9s
kube-burner-test-37   pod/deployment-37-1-57ff6c7959-bs4ft                             1/1     Running   0          2m9s
kube-burner-test-38   pod/deployment-38-1-6f756bd9c7-92m2r                            1/1     Running   0          2m9s
kube-burner-test-39   pod/deployment-39-1-7778b45f5f-dqg9r                            1/1     Running   0          2m8s
kube-burner-test-4    pod/deployment-4-1-5fdc8d7f9c-lzffz                              1/1     Running   0          2m15s
kube-burner-test-40   pod/deployment-40-1-687cd4b595-69xxj                            1/1     Running   0          2m8s
kube-burner-test-41   pod/deployment-41-1-5d468686d5-p6p4z                            1/1     Running   0          2m8s
kube-burner-test-42   pod/deployment-42-1-866f469c95-ll6bt                            1/1     Running   0          2m8s
kube-burner-test-43   pod/deployment-43-1-7f948f4cd5-f78mh                            1/1     Running   0          2m8s
kube-burner-test-44   pod/deployment-44-1-64c4644cf-lj44q                             1/1     Running   0          2m7s
kube-burner-test-45   pod/deployment-45-1-c78947b9c-49z2h                             1/1     Running   0          2m7s
kube-burner-test-46   pod/deployment-46-1-7885998875-gsmt6                            1/1     Running   0          2m7s
kube-burner-test-47   pod/deployment-47-1-5cdc889b9-l9d68                             1/1     Running   0          2m7s
kube-burner-test-48   pod/deployment-48-1-5c8bdf4d4c-ddr4d                            1/1     Running   0          2m7s
kube-burner-test-49   pod/deployment-49-1-57ccc9c48f-rmkfw                            1/1     Running   0          2m6s
kube-burner-test-5    pod/deployment-5-1-5f4f5cc489-mglcg                             1/1     Running   0          2m15s
kube-burner-test-50   pod/deployment-50-1-6fff8c66d9-n5p25                             1/1     Running   0          2m6s
kube-burner-test-51   pod/deployment-51-1-79b8b8c4f9-9wrlj                            1/1     Running   0          2m6s
kube-burner-test-52   pod/deployment-52-1-7f9944c665-6hlqz                            1/1     Running   0          2m6s
kube-burner-test-53   pod/deployment-53-1-65dccc86bc-pff9x                             1/1     Running   0          2m6s
kube-burner-test-54   pod/deployment-54-1-78976df9df-qwr9j                            1/1     Running   0          2m5s
kube-burner-test-55   pod/deployment-55-1-b6bc59867-pb8xp                             1/1     Running   0          2m5s
kube-burner-test-56   pod/deployment-56-1-68db4ccdbf-jgw9c                            1/1     Running   0          2m5s
kube-burner-test-57   pod/deployment-57-1-64bb4f6b79-j69b4                            1/1     Running   0          2m5s
kube-burner-test-58   pod/deployment-58-1-7f9f6cfd97-rm25s                            1/1     Running   0          2m5s
kube-burner-test-59   pod/deployment-59-1-56b567f779-fs8fm                            1/1     Running   0          2m4s
kube-burner-test-6    pod/deployment-6-1-784cd644df-xwgmg                             1/1     Running   0          2m15s
kube-burner-test-60   pod/deployment-60-1-6bc69659dc-nb5l8                            1/1     Running   0          2m4s
kube-burner-test-61   pod/deployment-61-1-c596d7577-vl2kd                             1/1     Running   0          2m4s
kube-burner-test-62   pod/deployment-62-1-7d849fd9c5-89tbr                            1/1     Running   0          2m4s
kube-burner-test-63   pod/deployment-63-1-5fd77c8c6f-nlw25                            1/1     Running   0          2m4s
kube-burner-test-64   pod/deployment-64-1-554764fc8c-4chdg                            1/1     Running   0          2m3s
kube-burner-test-65   pod/deployment-65-1-596fc47df-zwdqp                             1/1     Running   0          2m3s
kube-burner-test-66   pod/deployment-66-1-7bc658dd55-w9hcg                            1/1     Running   0          2m3s
kube-burner-test-67   pod/deployment-67-1-65db78449c-wrdbl                            1/1     Running   0          2m3s
kube-burner-test-68   pod/deployment-68-1-7d5f6c57b7-rx2hv                            1/1     Running   0          2m3s
kube-burner-test-69   pod/deployment-69-1-5db556f689-752f8                            1/1     Running   0          2m3s
kube-burner-test-7    pod/deployment-7-1-5b88db69cc-xvsmc                             1/1     Running   0          2m15s
kube-burner-test-70   pod/deployment-70-1-5c898d6b57-xldlf                            1/1     Running   0          2m2s
kube-burner-test-71   pod/deployment-71-1-7db9c8547-jfdvk                             1/1     Running   0          2m2s
kube-burner-test-72   pod/deployment-72-1-7bd95dc6d9-wkwcj                            1/1     Running   0          2m2s
kube-burner-test-73   pod/deployment-73-1-7586946d79-x66t7                            1/1     Running   0          2m2s
kube-burner-test-74   pod/deployment-74-1-758794dd7c-chh56                            1/1     Running   0          2m2s
kube-burner-test-75   pod/deployment-75-1-6757c976c5-g2qwt                            1/1     Running   0          2m1s
kube-burner-test-76   pod/deployment-76-1-5ff89dfd5-snnzf                              1/1     Running   0          2m1s
kube-burner-test-77   pod/deployment-77-1-859bb8b4f5-6rk8f                            1/1     Running   0          2m1s
kube-burner-test-78   pod/deployment-78-1-5b4bf8655c-hmpwn                            1/1     Running   0          2m1s
kube-burner-test-79   pod/deployment-79-1-7d798f5795-6mghg                            1/1     Running   0          2m1s
kube-burner-test-8    pod/deployment-8-1-5f86c5fc8f-ppfzj                             1/1     Running   0          2m15s
kube-burner-test-80   pod/deployment-80-1-78d5fd88c5-2h9c6                            1/1     Running   0          2m
kube-burner-test-81   pod/deployment-81-1-f8c8c4d9c-q688n                             1/1     Running   0          2m
kube-burner-test-82   pod/deployment-82-1-74844d6987-wwcx4                            1/1     Running   0          2m
kube-burner-test-83   pod/deployment-83-1-879cd9cb9-9bxvg                             1/1     Running   0          2m
kube-burner-test-84   pod/deployment-84-1-6bcb9967d7-22xx6                            1/1     Running   0          2m
kube-burner-test-85   pod/deployment-85-1-74675b9f57-bpl8x                            1/1     Running   0          2m
kube-burner-test-86   pod/deployment-86-1-5d95dd4947-6bnzl                            1/1     Running   0          119s
kube-burner-test-87   pod/deployment-87-1-7cb765c785-8dx6w                            1/1     Running   0          119s
kube-burner-test-88   pod/deployment-88-1-7765664bb7-zt8wd                            1/1     Running   0          119s
kube-burner-test-89   pod/deployment-89-1-78599cbbfc-s4hgm                            1/1     Running   0          119s
kube-burner-test-9    pod/deployment-9-1-855f575c-6gn4d                               1/1     Running   0          2m15s
kube-burner-test-90   pod/deployment-90-1-596dd8ddbf-58gp6                            1/1     Running   0          119s
kube-burner-test-91   pod/deployment-91-1-79659d75d7-hvvqj                            1/1     Running   0          118s
kube-burner-test-92   pod/deployment-92-1-8667bbbfd5-vwtgw                            1/1     Running   0          118s
kube-burner-test-93   pod/deployment-93-1-94bd84967-hx7gg                             1/1     Running   0          118s
kube-burner-test-94   pod/deployment-94-1-65b87fd49-sbzlq                             0/1     Pending   0          118s
kube-burner-test-95   pod/deployment-95-1-6f8555b7c9-ds7x7                            0/1     Pending   0          118s
kube-burner-test-96   pod/deployment-96-1-99c595b89-pssch                             0/1     Pending   0          117s
kube-burner-test-97   pod/deployment-97-1-75bf57d855-t88v8                            0/1     Pending   0          117s
kube-burner-test-98   pod/deployment-98-1-7b68d6698f-nj9r6                            0/1     Pending   0          117s
kube-burner-test-99   pod/deployment-99-1-7dbb99df87-v2s2b                            0/1     Pending   0          117s
kube-system           pod/coredns-674b8bbfcf-59lx6                                    1/1     Running   0          21h
kube-system           pod/coredns-674b8bbfcf-7s8p4                                    1/1     Running   0          21h
kube-system           pod/etcd-myk8s-control-plane                                    1/1     Running   0          21h
kube-system           pod/kindnet-4ps5d                                               1/1     Running   0          21h
kube-system           pod/kube-apiserver-myk8s-control-plane                          1/1     Running   0          21h
kube-system           pod/kube-controller-manager-myk8s-control-plane                 1/1     Running   0          21h
kube-system           pod/kube-ops-view-6658c477d4-9kln8                              1/1     Running   0          21h
kube-system           pod/kube-proxy-rh5b9                                            1/1     Running   0          21h
kube-system           pod/kube-scheduler-myk8s-control-plane                          1/1     Running   0          21h
kube-system           pod/metrics-server-5dd7b49d79-bgml9                             1/1     Running   0          21h
local-path-storage    pod/local-path-provisioner-7dc846544d-jrvnq                     1/1     Running   0          21h
monitoring            pod/kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          21h
monitoring            pod/kube-prometheus-stack-kube-state-metrics-684f8c7558-bnhx4   1/1     Running   0          21h
monitoring            pod/kube-prometheus-stack-operator-68589744f5-5pdfx             1/1     Running   0          21h
monitoring            pod/kube-prometheus-stack-prometheus-node-exporter-8vjrb        1/1     Running   0          21h
monitoring            pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          21h
```

```bash
kubectl get pod -A | grep -v '1/1     Running'
```

✅ **출력**

```bash
NAMESPACE             NAME                                                        READY   STATUS    RESTARTS   AGE
kube-burner-test-94   deployment-94-1-65b87fd49-sbzlq                             0/1     Pending   0          63s
kube-burner-test-95   deployment-95-1-6f8555b7c9-ds7x7                            0/1     Pending   0          63s
kube-burner-test-96   deployment-96-1-99c595b89-pssch                             0/1     Pending   0          62s
kube-burner-test-97   deployment-97-1-75bf57d855-t88v8                            0/1     Pending   0          62s
kube-burner-test-98   deployment-98-1-7b68d6698f-nj9r6                            0/1     Pending   0          62s
kube-burner-test-99   deployment-99-1-7dbb99df87-v2s2b                            0/1     Pending   0          62s
monitoring            kube-prometheus-stack-grafana-7d9c86798d-dl7d4              3/3     Running   0          21h
monitoring            prometheus-kube-prometheus-stack-prometheus-0               2/2     Running   0          21h
```

- 94개 Pod는 Running 상태
- 6개 Pod는 Pending 상태 (`deployment-94` ~ `deployment-99`)

### **4. 원인 파악**

```bash
kubectl describe pod -n kube-burner-test-99 | grep Events: -A5
```

✅ **출력**

```bash
Events:
  Type     Reason            Age    From               Message
  ----     ------            ----   ----               -------
  Warning  FailedScheduling  3m22s  default-scheduler  0/1 nodes are available: 1 Too many pods. preemption: 0/1 nodes are available: 1 No preemption victims found for incoming pod.
```

- **`0/1 nodes are available: Too many pods`** → 노드의 Pod 수 제한(110개)에 걸려 추가 스케줄링 불가

### **5. 노드 Pod 제한 확인 및 수정**

**(1) 노드 상세 정보 확인**

```bash
kubectl describe node
```

✅ **출력**

```bash
...
Capacity:
  cpu:                18
  ephemeral-storage:  955657596Ki
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             32397324Ki
  pods:               110
Allocatable:
  cpu:                18
  ephemeral-storage:  955657596Ki
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             32397324Ki
  pods:               110
...
```

- `pods: 110` 확인

![](https://velog.velcdn.com/images/tlsalswls123/post/09049878-9394-40cb-b0b9-5997483c71e6/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/72d360a0-47c6-4560-9c28-a9c6af0a736c/image.png)


**(2) 노드 내부 진입 후 `/var/lib/kubelet/config.yaml` 확인**

```bash
docker exec -it myk8s-control-plane bash
root@myk8s-control-plane:/# cat /var/lib/kubelet/config.yaml
```

✅ **출력**

```bash
apiVersion: kubelet.config.k8s.io/v1beta1
authentication:
  anonymous:
    enabled: false
  webhook:
    cacheTTL: 0s
    enabled: true
  x509:
    clientCAFile: /etc/kubernetes/pki/ca.crt
authorization:
  mode: Webhook
  webhook:
    cacheAuthorizedTTL: 0s
    cacheUnauthorizedTTL: 0s
cgroupDriver: systemd
cgroupRoot: /kubelet
clusterDNS:
- 10.96.0.10
clusterDomain: cluster.local
containerRuntimeEndpoint: ""
cpuManagerReconcilePeriod: 0s
crashLoopBackOff: {}
evictionHard:
  imagefs.available: 0%
  nodefs.available: 0%
  nodefs.inodesFree: 0%
evictionPressureTransitionPeriod: 0s
failSwapOn: false
fileCheckFrequency: 0s
healthzBindAddress: 127.0.0.1
healthzPort: 10248
httpCheckFrequency: 0s
imageGCHighThresholdPercent: 100
imageMaximumGCAge: 0s
imageMinimumGCAge: 0s
kind: KubeletConfiguration
logging:
  flushFrequency: 0
  options:
    json:
      infoBufferSize: "0"
    text:
      infoBufferSize: "0"
  verbosity: 0
memorySwap: {}
nodeStatusReportFrequency: 0s
nodeStatusUpdateFrequency: 0s
rotateCertificates: true
runtimeRequestTimeout: 0s
shutdownGracePeriod: 0s
shutdownGracePeriodCriticalPods: 0s
staticPodPath: /etc/kubernetes/manifests
streamingConnectionIdleTimeout: 0s
syncFrequency: 0s
volumeStatsAggPeriod: 0s

```

- `maxPods` 기본값 미표기 (default=110)

**(3) vim 설치**

```bash
root@myk8s-control-plane:/# apt update && apt install vim -y
```

✅ **출력**

```bash
Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8793 kB]
Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [6924 B]
Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [277 kB]
Fetched 9331 kB in 1s (6260 kB/s)                        
...
update-alternatives: warning: skip creation of /usr/share/man/man1/vi.1.gz because associated file /usr/share/man/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/da/man1/vi.1.gz because associated file /usr/share/man/da/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/de/man1/vi.1.gz because associated file /usr/share/man/de/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/fr/man1/vi.1.gz because associated file /usr/share/man/fr/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/it/man1/vi.1.gz because associated file /usr/share/man/it/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ja/man1/vi.1.gz because associated file /usr/share/man/ja/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/pl/man1/vi.1.gz because associated file /usr/share/man/pl/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ru/man1/vi.1.gz because associated file /usr/share/man/ru/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/tr/man1/vi.1.gz because associated file /usr/share/man/tr/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/view.1.gz because associated file /usr/share/man/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/da/man1/view.1.gz because associated file /usr/share/man/da/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/de/man1/view.1.gz because associated file /usr/share/man/de/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/fr/man1/view.1.gz because associated file /usr/share/man/fr/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/it/man1/view.1.gz because associated file /usr/share/man/it/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ja/man1/view.1.gz because associated file /usr/share/man/ja/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/pl/man1/view.1.gz because associated file /usr/share/man/pl/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ru/man1/view.1.gz because associated file /usr/share/man/ru/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/tr/man1/view.1.gz because associated file /usr/share/man/tr/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode
Processing triggers for libc-bin (2.36-9+deb12u10) ...
```

**(4) 설정 변경**

```bash
root@myk8s-control-plane:/# vim /var/lib/kubelet/config.yaml
```

```bash
maxPods: 150 # 추가
```
![](https://velog.velcdn.com/images/tlsalswls123/post/5bab612f-a7d8-473f-ac79-f258a1a929d2/image.png)

**(5) Kubelet 재시작**

```bash
root@myk8s-control-plane:/# systemctl restart kubelet
root@myk8s-control-plane:/# systemctl status kubelet
```

✅ **출력**

```bash
● kubelet.service - kubelet: The Kubernetes Node Agent
     Loaded: loaded (/etc/systemd/system/kubelet.service; enabled; preset: enabled)
    Drop-In: /etc/systemd/system/kubelet.service.d
             └─10-kubeadm.conf, 11-kind.conf
     Active: active (running) since Sat 2025-08-30 12:13:32 UTC; 5s ago
       Docs: http://kubernetes.io/docs/
    Process: 90543 ExecStartPre=/bin/sh -euc if [ -f /sys/fs/cgroup/cgroup.controllers ]; then /kind/bin/create-kubelet-cgroup-v2.sh; fi (code=exited, status=0/SUCCESS)
    Process: 90551 ExecStartPre=/bin/sh -euc if [ ! -f /sys/fs/cgroup/cgroup.controllers ] && [ ! -d /sys/fs/cgroup/systemd/kubelet ]; then mkdir -p /sys/fs/cgroup/systemd/kubelet; fi (code=exited, status=0/SUCCESS)
   Main PID: 90552 (kubelet)
      Tasks: 26 (limit: 5656)
     Memory: 104.7M
        CPU: 3.932s
     CGroup: /kubelet.slice/kubelet.service
             └─90552 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --config=/var/lib/kubelet/config.yaml --container-runtime-endpoint=unix:///run/containerd/containerd.sock --node-ip=172.18.0.2 --node-labels= --pod-infra-container-image=registry.k8s.io/pause:3.10 --provider-id=kind://docker/myk8s/myk8s-control-plane --runtime-cgroups=/system.slice/containerd.service

Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.574029   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"xtables-lock\" (UniqueName: \"kubernetes.io/host-path/a0a5d4b9-aa7d-41e1-98f8-319eec9e1fb8-xtables-lock\") pod \"kube-proxy-rh5b9\" (UID: \"a0a5d4b9-aa7d-41e1-98f8-319eec9e1fb8\") " pod="kube-system/kube-proxy-rh5b9"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.574099   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"proc\" (UniqueName: \"kubernetes.io/host-path/1c4028f3-add6-4de9-b799-2805856d5f36-proc\") pod \"kube-prometheus-stack-prometheus-node-exporter-8vjrb\" (UID: \"1c4028f3-add6-4de9-b799-2805856d5f36\") " pod="monitoring/kube-prometheus-stack-prometheus-node-exporter-8vjrb"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.877528   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-ghvmq\" (UniqueName: \"kubernetes.io/projected/0ccb2520-53fc-4ebe-a563-6a5772e3182a-kube-api-access-ghvmq\") pod \"deployment-95-1-6f8555b7c9-ds7x7\" (UID: \"0ccb2520-53fc-4ebe-a563-6a5772e3182a\") " pod="kube-burner-test-95/deployment-95-1-6f8555b7c9-ds7x7"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.877650   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-vw59p\" (UniqueName: \"kubernetes.io/projected/d30f29b9-1593-45b5-9d40-3b2486f6add1-kube-api-access-vw59p\") pod \"deployment-94-1-65b87fd49-sbzlq\" (UID: \"d30f29b9-1593-45b5-9d40-3b2486f6add1\") " pod="kube-burner-test-94/deployment-94-1-65b87fd49-sbzlq"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.956669   90552 desired_state_of_world_populator.go:158] "Finished populating initial desired state of world"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.978147   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-j826j\" (UniqueName: \"kubernetes.io/projected/67264623-6c30-4f60-9a52-8083d7243d54-kube-api-access-j826j\") pod \"deployment-96-1-99c595b89-pssch\" (UID: \"67264623-6c30-4f60-9a52-8083d7243d54\") " pod="kube-burner-test-96/deployment-96-1-99c595b89-pssch"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.978242   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-pmgsl\" (UniqueName: \"kubernetes.io/projected/b04f4fe2-0b76-4694-98b6-b6e4c01110da-kube-api-access-pmgsl\") pod \"deployment-99-1-7dbb99df87-v2s2b\" (UID: \"b04f4fe2-0b76-4694-98b6-b6e4c01110da\") " pod="kube-burner-test-99/deployment-99-1-7dbb99df87-v2s2b"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.978324   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-p78ss\" (UniqueName: \"kubernetes.io/projected/d79272e9-8460-4e48-bf33-c7caaadf0362-kube-api-access-p78ss\") pod \"deployment-98-1-7b68d6698f-nj9r6\" (UID: \"d79272e9-8460-4e48-bf33-c7caaadf0362\") " pod="kube-burner-test-98/deployment-98-1-7b68d6698f-nj9r6"
Aug 30 12:13:33 myk8s-control-plane kubelet[90552]: I0830 12:13:33.978388   90552 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-cbvw7\" (UniqueName: \"kubernetes.io/projected/fabde43d-c348-425b-94db-cb5445ffd921-kube-api-access-cbvw7\") pod \"deployment-97-1-75bf57d855-t88v8\" (UID: \"fabde43d-c348-425b-94db-cb5445ffd921\") " pod="kube-burner-test-97/deployment-97-1-75bf57d855-t88v8"
Aug 30 12:13:34 myk8s-control-plane kubelet[90552]: I0830 12:13:34.587454   90552 request.go:752] "Waited before sending request" delay="1.00174311s" reason="client-side throttling, not priority and fairness" verb="GET" URL="https://172.18.0.2:6443/api/v1/namespaces/kube-burner-test-43/configmaps?fieldSelector=metadata.name%3Dkube-root-ca.crt&limit=500&resourceVersion=0"
```

```bash
root@myk8s-control-plane:/# exit
exit
```

**(6) `pods: 150` 확인**

```bash
kubectl describe node
```

✅ **출력**

```bash
...
Capacity:
  cpu:                18
  ephemeral-storage:  955657596Ki
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             32397324Ki
  pods:               150
Allocatable:
  cpu:                18
  ephemeral-storage:  955657596Ki
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             32397324Ki
  pods:               150
...
```
![](https://velog.velcdn.com/images/tlsalswls123/post/0ad74e2c-a10b-4cb3-8a5a-0e33923b513e/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/112067d6-89b4-465c-b88c-8dd053734930/image.png)

- Pending 상태였던 파드도 정상 스케줄링되어 **100개 모두 Running** 상태 도달

### **6. 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
time="2025-08-30 21:18:42" level=info msg="🔥 Starting kube-burner (1.17.3@917540ff45a89386bb25de45af9b96c9fc360e93) with UUID 6188c39c-9053-4c04-82ec-4ba4b792ba61" file="job.go:91"
time="2025-08-30 21:18:42" level=debug msg="job.MaxWaitTimeout is zero in delete-deployments-namespace, override by timeout: 4h0m0s" file="job.go:361"
time="2025-08-30 21:18:42" level=info msg="QPS: 500" file="job.go:371"
time="2025-08-30 21:18:42" level=info msg="Burst: 500" file="job.go:378"
time="2025-08-30 21:18:42" level=debug msg="Preparing delete job: delete-deployments-namespace" file="delete.go:33"
time="2025-08-30 21:18:42" level=debug msg="Job delete-deployments-namespace: delete Deployment with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 21:18:42" level=debug msg="Job delete-deployments-namespace: delete Namespace with selector kube-burner-job=delete-me" file="delete.go:45"
time="2025-08-30 21:18:42" level=info msg="Triggering job: delete-deployments-namespace" file="job.go:122"
time="2025-08-30 21:18:42" level=info msg="Found 100 deployments with selector kube-burner-job=delete-me; patching them" file="utils.go:207"
time="2025-08-30 21:18:42" level=debug msg="Removing Deployment/deployment-1-1 from namespace kube-burner-test-1" file="delete.go:55"
time="2025-08-30 21:18:42" level=debug msg="Removing Deployment/deployment-28-1 from namespace kube-burner-test-28" file="delete.go:55"
time="2025-08-30 21:18:42" level=debug msg="Removing Deployment/deployment-94-1 from namespace kube-burner-test-94" file="delete.go:55"
time="2025-08-30 21:18:42" level=debug msg="Removing Deployment/deployment-97-1 from namespace kube-burner-test-97" file="delete.go:55"
time="2025-08-30 21:18:42" level=debug msg="Removing Deployment/deployment-43-1 from namespace kube-burner-test-43" file="delete.go:55"
time="2025-08-30 21:18:42" level=debug msg="Removing Deployment/deployment-66-1 from namespace kube-burner-test-66" file="delete.go:55"
time="2025-08-30 21:18:42" level=debug msg="Removing Deployment/deployment-9-1 from namespace kube-burner-test-9" file="delete.go:55"
....
time="2025-08-30 21:19:06" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:08" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:10" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:12" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:14" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:16" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:18" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:20" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:22" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:24" level=debug msg="Waiting for 15 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:26" level=debug msg="Waiting for 5 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:19:28" level=info msg="Job delete-deployments-namespace took 46s" file="job.go:191"
time="2025-08-30 21:19:28" level=info msg="Finished execution with UUID: 6188c39c-9053-4c04-82ec-4ba4b792ba61" file="job.go:264"
time="2025-08-30 21:19:28" level=info msg="👋 Exiting kube-burner 6188c39c-9053-4c04-82ec-4ba4b792ba61" file="kube-burner.go:90"
```

---

## **📌 시나리오 3 : 노드 1대에 최대 파드(300개) 배포 시도 2**

### **1. `jobIterations: 300, qps: 300, burst: 300` `objects.replicas: 1` 변경**
![](https://velog.velcdn.com/images/tlsalswls123/post/a5ec448c-c631-470b-bc88-e6b688fbfea0/image.png)

### **2. 리소스 생성**

```bash
kube-burner init -c s1-config.yaml --log-level debug
```

✅ **출력**

```bash
...
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-289-1 in namespace kube-burner-test-289" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-291" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 292" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-290-1 in namespace kube-burner-test-290" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-292" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-291-1 in namespace kube-burner-test-291" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 293" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-293" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 294" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-292-1 in namespace kube-burner-test-292" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-293-1 in namespace kube-burner-test-293" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-294" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 295" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-295" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 296" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-294-1 in namespace kube-burner-test-294" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-296" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 297" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-297" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 298" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-295-1 in namespace kube-burner-test-295" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-296-1 in namespace kube-burner-test-296" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-298" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Creating object replicas from iteration 299" file="create.go:122"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-297-1 in namespace kube-burner-test-297" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created namespace: kube-burner-test-299" file="namespaces.go:55"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-298-1 in namespace kube-burner-test-298" file="create.go:288"
time="2025-08-30 21:22:23" level=debug msg="Created Deployment/deployment-299-1 in namespace kube-burner-test-299" file="create.go:288"
time="2025-08-30 21:22:23" level=info msg="Job create-deployments took 3s" file="job.go:191"
time="2025-08-30 21:22:23" level=info msg="Finished execution with UUID: 9d67dc0c-0568-4de0-8708-785229be8355" file="job.go:264"
time="2025-08-30 21:22:23" level=info msg="👋 Exiting kube-burner 9d67dc0c-0568-4de0-8708-785229be8355" file="kube-burner.go:90"
```

- 총 **300개의 Deployment와 Namespace가 생성됨**
- 실행 로그에서 `deployment-299-1` 까지 생성된 것을 확인

![](https://velog.velcdn.com/images/tlsalswls123/post/f86162b3-a646-49a6-b731-66529e2f233e/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/787e711b-5fb4-4a7d-8933-c802ba05d6e8/image.png)

### **3. maxPods: 400 상향**

```bash
docker exec -it myk8s-control-plane bash
root@myk8s-control-plane:/# vim /var/lib/kubelet/config.yaml
```
![](https://velog.velcdn.com/images/tlsalswls123/post/465e1e73-2709-4752-8e9e-b5e1d3c213eb/image.png)

```bash
root@myk8s-control-plane:/# systemctl restart kubelet
root@myk8s-control-plane:/# systemctl status kubelet
```

✅ **출력**

```bash
● kubelet.service - kubelet: The Kubernetes Node Agent
     Loaded: loaded (/etc/systemd/system/kubelet.service; enabled; preset: enabled)
    Drop-In: /etc/systemd/system/kubelet.service.d
             └─10-kubeadm.conf, 11-kind.conf
     Active: active (running) since Sat 2025-08-30 12:27:42 UTC; 4s ago
       Docs: http://kubernetes.io/docs/
    Process: 125703 ExecStartPre=/bin/sh -euc if [ -f /sys/fs/cgroup/cgroup.controllers ]; then /kind/bin/create-kubelet-cgroup-v2.sh; fi (code=exited, status=0/SUCCESS)
    Process: 125711 ExecStartPre=/bin/sh -euc if [ ! -f /sys/fs/cgroup/cgroup.controllers ] && [ ! -d /sys/fs/cgroup/systemd/kubelet ]; then mkdir -p /sys/fs/cgroup/systemd/kubelet; fi (code=exited, status=0/SUCCESS)
   Main PID: 125712 (kubelet)
      Tasks: 26 (limit: 5656)
     Memory: 112.9M
        CPU: 13.741s
     CGroup: /kubelet.slice/kubelet.service
             └─125712 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --config=/var/lib/kubelet/config.yaml --container-runtime-endpoint=unix:///run/containerd/containerd.sock --node-ip=172.18.0.2 --node-labels= --pod-infra-container-image=registry.k8s.io/pause:3.10 --provider-id=kind://docker/myk8s/myk8s-control-plane --runtime-cgroups=/system.slice/containerd.service

Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.553723  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-8x2p9\" (UniqueName: \"kubernetes.io/projected/c0aa1eb4-d0df-4532-9264-e34c02b8f03c-kube-api-access-8x2p9\") pod \"deployment-201-1-757c54776c-hwtvt\" (UID: \"c0aa1eb4-d0df-4532-9264-e34c02b8f03c\") " pod="kube-burner-test-201/deployment-201-1-757c54776c-hwtvt"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.553780  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-4k8wk\" (UniqueName: \"kubernetes.io/projected/c64b4cc0-fb7c-4693-8d10-c6c8929be236-kube-api-access-4k8wk\") pod \"deployment-206-1-67f6b89599-bqgtj\" (UID: \"c64b4cc0-fb7c-4693-8d10-c6c8929be236\") " pod="kube-burner-test-206/deployment-206-1-67f6b89599-bqgtj"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.654197  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-gpgbt\" (UniqueName: \"kubernetes.io/projected/cd924c46-4561-4a5a-a594-12ab07c9e407-kube-api-access-gpgbt\") pod \"deployment-203-1-84d94748c5-6jkcs\" (UID: \"cd924c46-4561-4a5a-a594-12ab07c9e407\") " pod="kube-burner-test-203/deployment-203-1-84d94748c5-6jkcs"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.654365  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-w488x\" (UniqueName: \"kubernetes.io/projected/62761528-b000-4c15-a70e-f45a323086da-kube-api-access-w488x\") pod \"deployment-202-1-558c8c8687-bjsln\" (UID: \"62761528-b000-4c15-a70e-f45a323086da\") " pod="kube-burner-test-202/deployment-202-1-558c8c8687-bjsln"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.654501  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-kftgw\" (UniqueName: \"kubernetes.io/projected/c9047106-7261-4cfb-baeb-df0a4ee7d656-kube-api-access-kftgw\") pod \"deployment-208-1-54cb56fc5-bv2l2\" (UID: \"c9047106-7261-4cfb-baeb-df0a4ee7d656\") " pod="kube-burner-test-208/deployment-208-1-54cb56fc5-bv2l2"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.755130  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-sglps\" (UniqueName: \"kubernetes.io/projected/dd932fc1-0225-45df-a1c6-9418fa276b2e-kube-api-access-sglps\") pod \"deployment-210-1-78cfb49cf-r7xxc\" (UID: \"dd932fc1-0225-45df-a1c6-9418fa276b2e\") " pod="kube-burner-test-210/deployment-210-1-78cfb49cf-r7xxc"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.755342  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-g46pz\" (UniqueName: \"kubernetes.io/projected/0c1fa097-169d-4cfa-963b-1b77813cc5aa-kube-api-access-g46pz\") pod \"deployment-211-1-69ddd9986c-lzkbn\" (UID: \"0c1fa097-169d-4cfa-963b-1b77813cc5aa\") " pod="kube-burner-test-211/deployment-211-1-69ddd9986c-lzkbn"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.755388  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-rrhkk\" (UniqueName: \"kubernetes.io/projected/ddea8906-55e5-462e-8472-3e9760e89098-kube-api-access-rrhkk\") pod \"deployment-209-1-6759c77bcf-lhqbt\" (UID: \"ddea8906-55e5-462e-8472-3e9760e89098\") " pod="kube-burner-test-209/deployment-209-1-6759c77bcf-lhqbt"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.856476  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-gbl9q\" (UniqueName: \"kubernetes.io/projected/f57d0ab0-6934-407a-acf5-4947518f5b5f-kube-api-access-gbl9q\") pod \"deployment-207-1-5c7587f5f-dqdnh\" (UID: \"f57d0ab0-6934-407a-acf5-4947518f5b5f\") " pod="kube-burner-test-207/deployment-207-1-5c7587f5f-dqdnh"
Aug 30 12:27:46 myk8s-control-plane kubelet[125712]: I0830 12:27:46.856639  125712 reconciler_common.go:251] "operationExecutor.VerifyControllerAttachedVolume started for volume \"kube-api-access-xwjk4\" (UniqueName: \"kubernetes.io/projected/c1031fa3-0b0e-4481-855e-1370299187ac-kube-api-access-xwjk4\") pod \"deployment-212-1-7bb75d8955-7v8z7\" (UID: \"c1031fa3-0b0e-4481-855e-1370299187ac\") " pod="kube-burner-test-212/deployment-212-1-7bb75d8955-7v8z7"
```

```bash
root@myk8s-control-plane:/# exit
exit
```

### **4. 파드 생성 실패 원인 확인**

```bash
kubectl describe pod -n kube-burner-test-250 | grep Events: -A5
```

✅ **출력**

```bash
Events:
  Type     Reason                  Age    From               Message
  ----     ------                  ----   ----               -------
  Warning  FailedScheduling        5m34s  default-scheduler  0/1 nodes are available: 1 Too many pods. preemption: 0/1 nodes are available: 1 No preemption victims found for incoming pod.
  Normal   Scheduled               57s    default-scheduler  Successfully assigned kube-burner-test-250/deployment-250-1-6d8d5bfdff-ppqnf to myk8s-control-plane
  Warning  FailedCreatePodSandBox  47s    kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed to setup network for sandbox "eb16eeb6d619d8e4cee16cba8eb6c33190e46f91f43d1de39a913999d8705ec9": plugin type="ptp" failed (add): failed to allocate for range 0: no IP addresses available in range set: 10.244.0.1-10.244.0.254
```

```bash
kubectl describe pod -n kube-burner-test-299 | grep Events: -A5
```

✅ **출력**

```bash
Events:
  Type     Reason                  Age    From               Message
  ----     ------                  ----   ----               -------
  Warning  FailedScheduling        6m43s  default-scheduler  0/1 nodes are available: 1 Too many pods. preemption: 0/1 nodes are available: 1 No preemption victims found for incoming pod.
  Normal   Scheduled               2m14s  default-scheduler  Successfully assigned kube-burner-test-299/deployment-299-1-7c4f9cd98c-t2w2g to myk8s-control-plane
  Warning  FailedCreatePodSandBox  2m4s   kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed to setup network for sandbox "e785532efa1747ce9ce5ad402a41fc307416abc51eb81a38bfe69c1e56528cdb": plugin type="ptp" failed (add): failed to allocate for range 0: no IP addresses available in range set: 10.244.0.1-10.244.0.254
```

- 일부 파드가 `Pending` 상태 발생
- 이벤트 로그에서 `Too many pods`와 함께 **IP 주소 부족으로 Pod Sandbox 생성 실패** 확인

### **5. 노드 PodCIDR 확인**

```bash
kubectl describe node myk8s-control-plane | grep -i podcidr
```

✅ **출력**

```bash
PodCIDR:                      10.244.0.0/24
PodCIDRs:                     10.244.0.0/24
```

- **노드당 할당 가능한 Pod IP 대역이 `/24`로 제한**되어 있어 300개 파드를 모두 배포할 수 없음을 의미

### **6. 리소스 삭제**

```bash
kube-burner init -c s1-config-delete.yaml --log-level debug
```

✅ **출력**

```bash
...
time="2025-08-30 21:33:58" level=debug msg="Waiting for 205 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:00" level=debug msg="Waiting for 193 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:02" level=debug msg="Waiting for 180 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:04" level=debug msg="Waiting for 169 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:06" level=debug msg="Waiting for 156 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:08" level=debug msg="Waiting for 143 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:10" level=debug msg="Waiting for 131 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:12" level=debug msg="Waiting for 120 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:14" level=debug msg="Waiting for 108 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:16" level=debug msg="Waiting for 96 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:18" level=debug msg="Waiting for 84 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:20" level=debug msg="Waiting for 72 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:22" level=debug msg="Waiting for 58 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:24" level=debug msg="Waiting for 47 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:26" level=debug msg="Waiting for 34 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:28" level=debug msg="Waiting for 21 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:30" level=debug msg="Waiting for 10 namespaces labeled with kube-burner-job=delete-me to be deleted" file="delete.go:79"
time="2025-08-30 21:34:32" level=info msg="Job delete-deployments-namespace took 1m29s" file="job.go:191"
time="2025-08-30 21:34:32" level=info msg="Finished execution with UUID: c58647c4-73de-4abb-b5ea-59aa5035d686" file="job.go:264"
time="2025-08-30 21:34:32" level=info msg="👋 Exiting kube-burner c58647c4-73de-4abb-b5ea-59aa5035d686" file="kube-burner.go:90"
```

---

## **📝 시나리오 4 : api-intensive - 파드를 생성(configmap, secret) 후 삭제**

### **1. api-intensive 워크로드 템플릿 확인**

```bash
tree examples/workloads/api-intensive
cd examples/workloads/api-intensive
```

✅ **출력**

```bash
examples/workloads/api-intensive
├── api-intensive.yml
└── templates
    ├── configmap.yaml
    ├── deployment_patch_add_label.json
    ├── deployment_patch_add_label.yaml
    ├── deployment_patch_add_pod_2.yaml
    ├── deployment.yaml
    ├── secret.yaml
    └── service.yaml

2 directories, 8 files
```

### **2. `api-intensive-100.yml` 생성**

```bash
cat << EOF > api-intensive-100.yml
jobs:
  - name: api-intensive
    jobIterations: 100
    qps: 100
    burst: 100
    namespacedIterations: true
    namespace: api-intensive
    podWait: false
    cleanup: true
    waitWhenFinished: true
    preLoadImages: false # true
    objects:
      - objectTemplate: templates/deployment.yaml
        replicas: 1
      - objectTemplate: templates/configmap.yaml
        replicas: 1
      - objectTemplate: templates/secret.yaml
        replicas: 1
      - objectTemplate: templates/service.yaml
        replicas: 1

  - name: api-intensive-patch
    jobType: patch
    jobIterations: 10
    qps: 100
    burst: 100
    objects:
      - kind: Deployment
        objectTemplate: templates/deployment_patch_add_label.json
        labelSelector: {kube-burner-job: api-intensive}
        patchType: "application/json-patch+json"
        apiVersion: apps/v1
      - kind: Deployment
        objectTemplate: templates/deployment_patch_add_pod_2.yaml
        labelSelector: {kube-burner-job: api-intensive}
        patchType: "application/apply-patch+yaml"
        apiVersion: apps/v1
      - kind: Deployment
        objectTemplate: templates/deployment_patch_add_label.yaml
        labelSelector: {kube-burner-job: api-intensive}
        patchType: "application/strategic-merge-patch+json"
        apiVersion: apps/v1

  - name: api-intensive-remove
    qps: 500
    burst: 500
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Deployment
        labelSelector: {kube-burner-job: api-intensive}
        apiVersion: apps/v1

  - name: ensure-pods-removal
    qps: 100
    burst: 100
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Pod
        labelSelector: {kube-burner-job: api-intensive}

  - name: remove-services
    qps: 100
    burst: 100
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Service
        labelSelector: {kube-burner-job: api-intensive}

  - name: remove-configmaps-secrets
    qps: 100
    burst: 100
    jobType: delete
    objects:
      - kind: ConfigMap
        labelSelector: {kube-burner-job: api-intensive}
      - kind: Secret
        labelSelector: {kube-burner-job: api-intensive}

  - name: remove-namespace
    qps: 100
    burst: 100
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Namespace
        labelSelector: {kube-burner-job: api-intensive}
EOF
```
- `jobIterations: 100`, `qps: 100`, `burst: 100` 설정
- Deployment, ConfigMap, Secret, Service를 생성 후 patch 작업 수행
- 이후 Deployment, Pod, Service, ConfigMap, Secret, Namespace를 순차적으로 삭제하는 Job 정의

### **3. api-intensive-100 실행**

```bash
kube-burner init -c api-intensive-100.yml --log-level debug
```

✅ **출력**

```bash
...
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-55" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-91" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-26" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-30" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-37" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-69" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-80" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-95" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-35" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-51" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-25" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-6" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-7" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-61" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-60" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-71" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-92" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-72" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-46" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-22" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-17" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-44" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-0" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-89" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-73" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-62" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-70" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-98" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-88" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-38" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Removing Namespace/api-intensive-65" file="delete.go:58"
time="2025-08-30 21:56:04" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:06" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:08" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:10" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:12" level=debug msg="Waiting for 90 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:14" level=debug msg="Waiting for 84 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:16" level=debug msg="Waiting for 73 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:18" level=debug msg="Waiting for 65 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:20" level=debug msg="Waiting for 56 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:22" level=debug msg="Waiting for 49 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:24" level=debug msg="Waiting for 41 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:26" level=debug msg="Waiting for 31 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:28" level=debug msg="Waiting for 23 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:30" level=debug msg="Waiting for 16 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:32" level=debug msg="Waiting for 4 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 21:56:34" level=info msg="Job remove-namespace took 30s" file="job.go:191"
time="2025-08-30 21:56:34" level=info msg="Finished execution with UUID: 5c83d540-dd10-4d2b-ac53-b6dec5b7d08e" file="job.go:264"
time="2025-08-30 21:56:34" level=info msg="👋 Exiting kube-burner 5c83d540-dd10-4d2b-ac53-b6dec5b7d08e" file="kube-burner.go:90"
```
![](https://velog.velcdn.com/images/tlsalswls123/post/38c8ff3f-2206-4f4a-8c4a-6ac7c61355f6/image.png)

### **4. `api-intensive-500.yml` 생성**

```bash
cat << EOF > api-intensive-500.yml
jobs:
  - name: api-intensive
    jobIterations: 100
    qps: 500
    burst: 500
    namespacedIterations: true
    namespace: api-intensive
    podWait: false
    cleanup: true
    waitWhenFinished: true
    preLoadImages: false # true
    objects:
      - objectTemplate: templates/deployment.yaml
        replicas: 1
      - objectTemplate: templates/configmap.yaml
        replicas: 1
      - objectTemplate: templates/secret.yaml
        replicas: 1
      - objectTemplate: templates/service.yaml
        replicas: 1

  - name: api-intensive-patch
    jobType: patch
    jobIterations: 10
    qps: 500
    burst: 500
    objects:
      - kind: Deployment
        objectTemplate: templates/deployment_patch_add_label.json
        labelSelector: {kube-burner-job: api-intensive}
        patchType: "application/json-patch+json"
        apiVersion: apps/v1
      - kind: Deployment
        objectTemplate: templates/deployment_patch_add_pod_2.yaml
        labelSelector: {kube-burner-job: api-intensive}
        patchType: "application/apply-patch+yaml"
        apiVersion: apps/v1
      - kind: Deployment
        objectTemplate: templates/deployment_patch_add_label.yaml
        labelSelector: {kube-burner-job: api-intensive}
        patchType: "application/strategic-merge-patch+json"
        apiVersion: apps/v1

  - name: api-intensive-remove
    qps: 500
    burst: 500
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Deployment
        labelSelector: {kube-burner-job: api-intensive}
        apiVersion: apps/v1

  - name: ensure-pods-removal
    qps: 500
    burst: 500
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Pod
        labelSelector: {kube-burner-job: api-intensive}

  - name: remove-services
    qps: 500
    burst: 500
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Service
        labelSelector: {kube-burner-job: api-intensive}

  - name: remove-configmaps-secrets
    qps: 500
    burst: 500
    jobType: delete
    objects:
      - kind: ConfigMap
        labelSelector: {kube-burner-job: api-intensive}
      - kind: Secret
        labelSelector: {kube-burner-job: api-intensive}

  - name: remove-namespace
    qps: 500
    burst: 500
    jobType: delete
    waitForDeletion: true
    objects:
      - kind: Namespace
        labelSelector: {kube-burner-job: api-intensive}
EOF
```

### **5. api-intensive-500 실행**

```bash
kube-burner init -c api-intensive-500.yml --log-level debug
```

✅ **출력**

```bash
...
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-67" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-34" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-39" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-43" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-66" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-86" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-49" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-92" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-48" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-8" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-53" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-55" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-5" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-77" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-78" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-97" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Removing Namespace/api-intensive-98" file="delete.go:58"
time="2025-08-30 22:03:51" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:03:53" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:03:55" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:03:57" level=debug msg="Waiting for 100 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:03:59" level=debug msg="Waiting for 88 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:01" level=debug msg="Waiting for 77 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:03" level=debug msg="Waiting for 66 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:05" level=debug msg="Waiting for 53 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:07" level=debug msg="Waiting for 41 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:09" level=debug msg="Waiting for 31 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:11" level=debug msg="Waiting for 20 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:13" level=debug msg="Waiting for 9 namespaces labeled with kube-burner-job=api-intensive to be deleted" file="delete.go:79"
time="2025-08-30 22:04:15" level=info msg="Job remove-namespace took 24s" file="job.go:191"
time="2025-08-30 22:04:15" level=info msg="Finished execution with UUID: 2405398b-a9cd-4f4e-88d9-5c83afec4928" file="job.go:264"
time="2025-08-30 22:04:15" level=info msg="👋 Exiting kube-burner 2405398b-a9cd-4f4e-88d9-5c83afec4928" file="kube-burner.go:90"
```
![](https://velog.velcdn.com/images/tlsalswls123/post/d9c41371-506b-43b8-aba7-844e97e3d2ef/image.png)

---

## **📊 Kubernetes API Performance Metrics**

- [https://www.redhat.com/en/blog/kubernetes-api-performance-metrics-examples-and-best-practices](https://www.redhat.com/en/blog/kubernetes-api-performance-metrics-examples-and-best-practices)

### **1. apiserver_request_total 지표 확인**

```bash
apiserver_request_total
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/8ff4658b-855a-4f4f-92c0-825a2296ee08/image.png)

### **2. rate()로 5분 간격 요청 증가율 확인**

```bash
rate(apiserver_request_total{job="apiserver"}[5m])
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/a447168e-584f-4558-a071-c632d1e48cc0/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/b91c0cb4-e902-4d45-ab4e-bc614f08da5e/image.png)

### **3. irate()로 피크치 확인**

```bash
irate(apiserver_request_total{job="apiserver"}[5m])
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/2399185a-e215-4243-a04f-fbb1b5075f62/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/c3922c24-9751-4b08-92f4-d86892f77ab7/image.png)

### **4. 응답 코드별 요청 속도 집계**

```bash
sum by(code) (irate(apiserver_request_total{job="apiserver"}[5m]))
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/6a78228c-f60c-4a0d-aff8-56baedfc90d9/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/67c1619a-a0f7-4f8f-853e-05c57c00c1b5/image.png)

### **5. 리소스·응답 코드·동작별 상세 분석**

```bash
sum by(resource, code, verb) (irate(apiserver_request_total{job="apiserver"}[5m]))
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/17d6c5f0-4dcd-47eb-82f6-e6bbe376f6da/image.png)

### **6. topk()로 상위 리소스 사용량 확인**

```bash
topk(3, sum by(resource) (irate(apiserver_request_total{job="apiserver"}[5m])))
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/0f098073-c346-41f0-a587-8bcac94a8920/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/f5c25484-387f-4d58-b1c5-a058c104ad4f/image.png)

### **7. 리소스 없는 값 제외 후 Top3 확인**

```bash
topk(3, sum by(resource) (irate(apiserver_request_total{**resource**=~".+"}[5m])))
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/6b860cc2-6db6-460d-a1e4-a2ab732c1bdf/image.png)

### **8. rate()로 리소스·코드·동작별 속도 확인**

```bash
sum by(resource, code, verb) (rate(apiserver_request_total{resource=~".+"}[5m]))
```

✅ **출력**
![](https://velog.velcdn.com/images/tlsalswls123/post/aa6e5ef7-4ce2-4c4c-8a9c-a3688f5e512e/image.png)
![](https://velog.velcdn.com/images/tlsalswls123/post/ba43418b-f9cb-466d-980f-6231c771e1c9/image.png)

---

## **🏗️ Cilium Performance 실습 환경 구성**

### **1. Kind 기반 Kubernetes 클러스터 생성**

```bash
kind create cluster --name myk8s --image kindest/node:v1.33.2 --config - <<EOF
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
  extraPortMappings:
  - containerPort: 30000
    hostPort: 30000
  - containerPort: 30001
    hostPort: 30001
  - containerPort: 30002
    hostPort: 30002
  - containerPort: 30003
    hostPort: 30003
  kubeadmConfigPatches: # Prometheus Target connection refused bind-address 설정
  - |
    kind: ClusterConfiguration
    controllerManager:
      extraArgs:
        bind-address: 0.0.0.0
    etcd:
      local:
        extraArgs:
          listen-metrics-urls: http://0.0.0.0:2381
    scheduler:
      extraArgs:
        bind-address: 0.0.0.0
  - |
    kind: KubeProxyConfiguration
    metricsBindAddress: 0.0.0.0
networking:
  disableDefaultCNI: true
  kubeProxyMode: none
  podSubnet: "10.244.0.0/16"   # cluster-cidr
kubeadmConfigPatches:
- |
  kind: ClusterConfiguration
  controllerManager:
    extraArgs:
      allocate-node-cidrs: "true"
      cluster-cidr: "10.244.0.0/16"
      node-cidr-mask-size: "22"
EOF

# 결과
Creating cluster "myk8s" ...
 ✓ Ensuring node image (kindest/node:v1.33.2) 🖼
 ✓ Preparing nodes 📦  
 ✓ Writing configuration 📜 
 ✓ Starting control-plane 🕹️ 
 ✓ Installing StorageClass 💾 
Set kubectl context to "kind-myk8s"
You can now use your cluster with:

kubectl cluster-info --context kind-myk8s

Have a question, bug, or feature request? Let us know! https://kind.sigs.k8s.io/#community 🙂
```

### **2. Pod CIDR 확인**

```bash
kubectl get nodes -o jsonpath='{.items[*].spec.podCIDR}'
```

✅ **출력**

```bash
10.244.0.0/22
```

### **3. Cilium CNI 설치**

```bash
cilium install --version 1.18.1 --set ipam.mode=kubernetes --set ipv4NativeRoutingCIDR=172.20.0.0/16 \
--set routingMode=native --set autoDirectNodeRoutes=true --set endpointRoutes.enabled=true --set directRoutingSkipUnreachable=true \
--set kubeProxyReplacement=true --set bpf.masquerade=true \
--set endpointHealthChecking.enabled=false --set healthChecking=false \
--set hubble.enabled=true --set hubble.relay.enabled=true --set hubble.ui.enabled=true \
--set hubble.ui.service.type=NodePort --set hubble.ui.service.nodePort=30003 \
--set prometheus.enabled=true --set operator.prometheus.enabled=true --set envoy.prometheus.enabled=true --set hubble.metrics.enableOpenMetrics=true \
--set hubble.metrics.enabled="{dns,drop,tcp,flow,port-distribution,icmp,httpV2:exemplars=true;labelsContext=source_ip\,source_namespace\,source_workload\,destination_ip\,destination_namespace\,destination_workload\,traffic_direction}" \
--set debug.enabled=true

# 결과
🔮 Auto-detected Kubernetes kind: kind
ℹ️  Using Cilium version 1.18.1
🔮 Auto-detected cluster name: kind-myk8s
ℹ️  Detecting real Kubernetes API server addr and port on Kind
🔮 Auto-detected kube-proxy has not been installed
ℹ️  Cilium will fully replace all functionalities of kube-proxy
```

### **4. Prometheus & Grafana 배포**

```bash
kubectl apply -f https://raw.githubusercontent.com/cilium/cilium/1.18.1/examples/kubernetes/addons/prometheus/monitoring-example.yaml

# 결과
namespace/cilium-monitoring created
serviceaccount/prometheus-k8s created
configmap/grafana-config created
configmap/grafana-cilium-dashboard created
configmap/grafana-cilium-operator-dashboard created
configmap/grafana-hubble-dashboard created
configmap/grafana-hubble-l7-http-metrics-by-workload created
configmap/prometheus created
clusterrole.rbac.authorization.k8s.io/prometheus created
clusterrolebinding.rbac.authorization.k8s.io/prometheus created
service/grafana created
service/prometheus created
deployment.apps/grafana created
deployment.apps/prometheus created
```

### **5. NodePort 서비스 설정**

```bash
kubectl patch svc -n cilium-monitoring prometheus -p '{"spec": {"type": "NodePort", "ports": [{"port": 9090, "targetPort": 9090, "nodePort": 30001}]}}'
kubectl patch svc -n cilium-monitoring grafana -p '{"spec": {"type": "NodePort", "ports": [{"port": 3000, "targetPort": 3000, "nodePort": 30002}]}}'

# 결과
service/prometheus patched
service/grafana patched
```

---

## **🧩 eBPF Maps : mapDynamicSizeRatio**

- [https://docs.cilium.io/en/stable/operations/performance/tuning/#ebpf-map-sizing](https://docs.cilium.io/en/stable/operations/performance/tuning/#ebpf-map-sizing)
- [https://docs.cilium.io/en/stable/network/ebpf/maps/#bpf-map-limitations](https://docs.cilium.io/en/stable/network/ebpf/maps/#bpf-map-limitations)

### **1. Cilium BPF 맵 상태 확인**

```bash
kubectl exec -it -n kube-system ds/cilium -- cilium status --verbose
```

✅ **출력**

```bash
...
BPF Maps:   dynamic sizing: on (ratio: 0.002500)
  Name                          Size
  Auth                          524288
  Non-TCP connection tracking   145503
  TCP connection tracking       291007
  Endpoints                     65535
  IP cache                      512000
  IPv4 masquerading agent       16384
  IPv6 masquerading agent       16384
  IPv4 fragmentation            8192
  IPv4 service                  65536
  IPv6 service                  65536
  IPv4 service backend          65536
  IPv6 service backend          65536
  IPv4 service reverse NAT      65536
  IPv6 service reverse NAT      65536
  Metrics                       1024
  Ratelimit metrics             64
  NAT                           291007
  Neighbor table                291007
  Endpoint policy               16384
  Policy stats                  65520
  Session affinity              65536
  Sock reverse NAT              145503
...
```

### **2. mapDynamicSizeRatio 값 상향 조정**

```bash
helm upgrade cilium cilium/cilium --version 1.18.1 --namespace kube-system --reuse-values \
--set bpf.distributedLRU.enabled=true --set bpf.mapDynamicSizeRatio=0.01

# 결과
Release "cilium" has been upgraded. Happy Helming!
NAME: cilium
LAST DEPLOYED: Sat Aug 30 22:37:41 2025
NAMESPACE: kube-system
STATUS: deployed
REVISION: 2
TEST SUITE: None
NOTES:
You have successfully installed Cilium with Hubble Relay and Hubble UI.

Your release version is 1.18.1.

For any further help, visit https://docs.cilium.io/en/v1.18/gettinghelp
```

### **3. Cilium DaemonSet 재시작**

```bash
kubectl -n kube-system rollout restart ds/cilium

# 결과
daemonset.apps/cilium restarted
```

### **4. Cilium BPF 맵 크기 증가 확인**

```bash
kubectl exec -it -n kube-system ds/cilium -- cilium status --verbose
```

✅ **출력**

```bash
...
BPF Maps:   dynamic sizing: on (ratio: 0.010000)
  Name                          Size
  Auth                          524288
  Non-TCP connection tracking   582030
  TCP connection tracking       1164042
  Endpoints                     65535
  IP cache                      512000
  IPv4 masquerading agent       16384
  IPv6 masquerading agent       16384
  IPv4 fragmentation            8192
  IPv4 service                  65536
  IPv6 service                  65536
  IPv4 service backend          65536
  IPv6 service backend          65536
  IPv4 service reverse NAT      65536
  IPv6 service reverse NAT      65536
  Metrics                       1024
  Ratelimit metrics             64
  NAT                           1164042
  Neighbor table                1164042
  Endpoint policy               16384
  Policy stats                  65520
  Session affinity              65536
  Sock reverse NAT              582030
...
```

- `dynamic sizing: on (ratio: 0.010000)` 으로 변경됨
- Non-TCP connection tracking: **145,503 → 582,030**
- TCP connection tracking: **291,007 → 1,164,042**
- NAT, Neighbor table 크기 역시 같은 비율로 증가

---

## **📦 CiliumEndpointSlice**
![](https://velog.velcdn.com/images/tlsalswls123/post/43625702-eabd-455c-8ae4-ca96c98d5e4f/image.png)

### **1. Cilium 엔드포인트 조회**

```bash
kubectl get ciliumendpoints.cilium.io -A
```

✅ **출력**

```bash
NAMESPACE            NAME                                      SECURITY IDENTITY   ENDPOINT STATE   IPV4           IPV6
cilium-monitoring    grafana-5c69859d9-6ddzg                   3400                ready            10.244.3.225   
cilium-monitoring    prometheus-6fc896bc5d-kmpbs               30763               ready            10.244.0.70    
kube-system          coredns-674b8bbfcf-bf7d4                  48081               ready            10.244.2.45    
kube-system          coredns-674b8bbfcf-p7npc                  48081               ready            10.244.0.225   
kube-system          hubble-relay-fdd49b976-hx4rw              14912               ready            10.244.1.223   
kube-system          hubble-ui-655f947f96-h6f4z                32971               ready            10.244.3.184   
local-path-storage   local-path-provisioner-7dc846544d-pt5dq   19842               ready            10.244.3.72 
```

### **2. CiliumEndpointSlice 활성화**

```bash
helm upgrade cilium cilium/cilium --version 1.18.1 --namespace kube-system --reuse-values \
--set ciliumEndpointSlice.enabled=true

# 결과
Release "cilium" has been upgraded. Happy Helming!
NAME: cilium
LAST DEPLOYED: Sat Aug 30 22:48:14 2025
NAMESPACE: kube-system
STATUS: deployed
REVISION: 3
TEST SUITE: None
NOTES:
You have successfully installed Cilium with Hubble Relay and Hubble UI.

Your release version is 1.18.1.

For any further help, visit https://docs.cilium.io/en/v1.18/gettinghelp
```

### **3. Cilium 컴포넌트 재시작**

```bash
kubectl rollout restart -n kube-system deployment cilium-operator
kubectl rollout restart -n kube-system ds/cilium

# 결과
deployment.apps/cilium-operator restarted
daemonset.apps/cilium restarted
```

### **4. CRD 추가 확인**

```bash
kubectl get crd
```

✅ **출력**

```bash
NAME                                         CREATED AT
ciliumcidrgroups.cilium.io                   2025-08-30T13:27:42Z
ciliumclusterwidenetworkpolicies.cilium.io   2025-08-30T13:27:41Z
ciliumendpoints.cilium.io                    2025-08-30T13:27:39Z
ciliumendpointslices.cilium.io               2025-08-30T13:48:52Z
ciliumidentities.cilium.io                   2025-08-30T13:27:37Z
ciliuml2announcementpolicies.cilium.io       2025-08-30T13:27:44Z
ciliumloadbalancerippools.cilium.io          2025-08-30T13:27:43Z
ciliumnetworkpolicies.cilium.io              2025-08-30T13:27:40Z
ciliumnodeconfigs.cilium.io                   2025-08-30T13:27:45Z
ciliumnodes.cilium.io                        2025-08-30T13:27:36Z
ciliumpodippools.cilium.io                   2025-08-30T13:27:38Z
```

- `ciliumendpointslices.cilium.io` CRD가 새로 추가된 것을 확인

```bash
kubectl get ciliumendpointslices.cilium.io -A
```

✅ **출력**

```bash
NAME                  AGE
ces-4nbjsvtlq-v8hjm   91s
ces-k5s8lm9ct-z5ndq   91s
ces-vbrn7m6vd-zfp6x   91s
```

- 기존 `ciliumendpoints.cilium.io` 리소스를 **Slice 단위(ex. 3개씩 묶음)** 로 그룹화하여 관리 가능
