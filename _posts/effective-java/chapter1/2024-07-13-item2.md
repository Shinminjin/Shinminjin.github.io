---
title: Item 2 - ìƒì„±ìì— ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë”ë¥¼ ê³ ë ¤í•˜ë¼
date: 2024-07-13 19:52:00 +0900
categories: [ì´í™í‹°ë¸Œ ìë°”, chapter1]
tags: [ì´í™í‹°ë¸Œ ìë°”]
---
# Item2 - ìƒì„±ìì— ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë”ë¥¼ ê³ ë ¤í•˜ë¼

> ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œì™€ ìƒì„±ìëŠ” ì„ íƒì  ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ ë•Œ ì ì ˆíˆ ëŒ€ì‘í•˜ê¸° ì–´ë µë‹¤. ğŸ¤¦â€â™€ï¸


ì´ëŸ¬í•œ ì œì•½ì˜ ëŒ€ì•ˆìœ¼ë¡œ í”„ë¡œê·¸ë˜ë¨¸ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤.

1. ì ì¸µì  ìƒì„±ì íŒ¨í„´
2. ìë°” ë¹ˆì¦ˆ íŒ¨í„´
3. ë¹Œë” íŒ¨í„´

## **(1) ì ì¸µì  ìƒì„±ì íŒ¨í„´ (í™•ì¥ì˜ ì–´ë ¤ì›€)**

```java
public class NutritionFacts {
    private final int servingSize;  // (mL, 1íšŒ ì œê³µëŸ‰)     í•„ìˆ˜
    private final int servings;     // (íšŒ, ì´ níšŒ ì œê³µëŸ‰)  í•„ìˆ˜
    private final int calories;     // (1íšŒ ì œê³µëŸ‰ë‹¹)       ì„ íƒ
    private final int fat;          // (g/1íšŒ ì œê³µëŸ‰)       ì„ íƒ
    private final int sodium;       // (mg/1íšŒ ì œê³µëŸ‰)      ì„ íƒ
    private final int carbohydrate; // (g/1íšŒ ì œê³µëŸ‰)       ì„ íƒ

    public NutritionFacts(int servingSize, int servings) {
        this(servingSize, servings, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories) {
        this(servingSize, servings, calories, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat) {
        this(servingSize, servings, calories, fat, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium) {
        this(servingSize, servings, calories, fat, sodium, 0);
    }
    
    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium, int carbohydrate) {
        this.servingSize  = servingSize;
        this.servings     = servings;
        this.calories     = calories;
        this.fat          = fat;
        this.sodium       = sodium;
        this.carbohydrate = carbohydrate;
    }

    public static void main(String[] args) {
        NutritionFacts cocaCola =
            new NutritionFacts(240, 8, 100, 0, 35, 27);
    }

}
```

- í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë§Œ ë°›ëŠ” ìƒì„±ì / í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ + ì„ íƒ ë§¤ê°œë³€ìˆ˜ 1ê°œë¥¼ ë°›ëŠ” ìƒì„±ì / í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ + ì„ íƒ ë§¤ê°œë³€ìˆ˜ë¥¼ 2ê°œ ë°›ëŠ” ìƒì„±ì / ... í˜•íƒœë¡œ ì„ íƒ ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë¶€ ë‹¤ ë°›ëŠ” ìƒì„±ìê¹Œì§€ ì ì¸µì ìœ¼ë¡œ ëŠ˜ë ¤ê°€ëŠ” ë°©ì‹

### **ë‹¨ì  ğŸ‘**

- **ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ì½ê¸° ì–´ë µë‹¤.**
- í´ë¼ì´ì–¸íŠ¸ê°€ ì‹¤ìˆ˜ë¡œ ë§¤ê°œë³€ìˆ˜ì˜ ìˆœì„œë¥¼ ë°”ê¿” ê±´ë„¤ë„ ì»´íŒŒì¼ëŸ¬ëŠ” ì•Œì•„ì±„ì§€ ëª»í•˜ê³ , ê²°êµ­ ëŸ°íƒ€ì„ì— ì—‰ëš±í•œ ë™ì‘ì„ í•˜ê²Œ ëœë‹¤. â†’ ì°¾ê¸° ì–´ë ¤ìš´ ë²„ê·¸ ìœ ë°œ!
- í™•ì¥ì´ ì–´ë µë‹¤.

## **(2) ìë°” ë¹ˆì¦ˆ íŒ¨í„´**

```java
public class NutritionFacts {    
    private int servingSize  = -1; // í•„ìˆ˜; ê¸°ë³¸ê°’ ì—†ìŒ
    private int servings     = -1; // í•„ìˆ˜; ê¸°ë³¸ê°’ ì—†ìŒ
    private int calories     = 0;
    private int fat          = 0;
    private int sodium       = 0;
    private int carbohydrate = 0;

    public NutritionFacts() { }
    // setter ë©”ì„œë“œë“¤
    public void setServingSize(int val)  { servingSize = val; }
    public void setServings(int val)     { servings = val; }
    public void setCalories(int val)     { calories = val; }
    public void setFat(int val)          { fat = val; }
    public void setSodium(int val)       { sodium = val; }
    public void setCarbohydrate(int val) { carbohydrate = val; }

    public static void main(String[] args) {
        NutritionFacts cocaCola = new NutritionFacts();
        cocaCola.setServingSize(240);
        cocaCola.setServings(8);
        cocaCola.setCalories(100);
        cocaCola.setSodium(35);
        cocaCola.setCarbohydrate(27);
    }
}
```

- ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìë¡œ ê°ì²´ë¥¼ ë§Œë“  í›„ì— setter ë©”ì„œë“œë¡œ ê°’ì„ ì„¤ì •í•œë‹¤.
- ì ì¸µì  ìƒì„±ì íŒ¨í„´ì— ë¹„í•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê¸° ì‰½ê³ , ê°€ë…ì„±ì´ ì¢‹ì•„ì¡Œë‹¤.

### **ë‹¨ì  ğŸ‘**

- í•˜ë‚˜ì˜ ê°ì²´ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì—¬ëŸ¬ ê°œì˜ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.
- ê°ì²´ê°€ ì™„ì „íˆ ìƒì„±ë˜ê¸° ì „ê¹Œì§€ëŠ” ì¼ê´€ì„±ì´ ë¬´ë„ˆì§„ ìƒíƒœì— ë†“ì´ê²Œ ëœë‹¤.
- ì¼ê´€ì„±ì´ ë¬´ë„ˆì§€ë©´ì„œ í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ê²Œ ëœë‹¤.

> **ì¼ê´€ì„±**ì´ ë¬´ë„ˆì§€ë©´ ëŸ°íƒ€ì„ ì‹œ ë””ë²„ê¹…ì— ì–´ë ¤ì›€ì„ ê²ªì„ ìˆ˜ ìˆê³  ğŸ¤¦â€â™€ï¸,
> ë¶ˆë³€ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ ìˆ˜ ì—†ê²Œ ë˜ë©´ì„œÂ **Thread safe**í•˜ì§€ ì•Šê²Œ ëœë‹¤.


## **(3) ë¹Œë” íŒ¨í„´**

```java
public class NutritionFacts {
    private final int servingSize;
    private final int servings;
    private final int calories;
    private final int fat;
    private final int sodium;
    private final int carbohydrate;

    public static class Builder {
        // í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜
        private final int servingSize;
        private final int servings;

        // ì„ íƒ ë§¤ê°œë³€ìˆ˜ - ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.
        private int calories      = 0;
        private int fat           = 0;
        private int sodium        = 0;
        private int carbohydrate  = 0;

        public Builder(int servingSize, int servings) {
            this.servingSize = servingSize;
            this.servings    = servings;
        }

        public Builder calories(int val)
            { calories = val;      return this; }
            
        public Builder fat(int val)
            { fat = val;           return this; }
            
        public Builder sodium(int val)
            { sodium = val;        return this; }
            
        public Builder carbohydrate(int val)
            { carbohydrate = val;  return this; }

        public NutritionFacts build() {
            return new NutritionFacts(this);
        }
    }

    private NutritionFacts(Builder builder) {
        servingSize  = builder.servingSize;
        servings     = builder.servings;
        calories     = builder.calories;
        fat          = builder.fat;
        sodium       = builder.sodium;
        carbohydrate = builder.carbohydrate;
    }
}
```

- **ì ì¸µì  ìƒì„±ì íŒ¨í„´**ì˜ ì•ˆì •ì„±ê³¼Â **ìë°” ë¹ˆì¦ˆ íŒ¨í„´**ì˜ ê°€ë…ì„±ì„ ê²¸ë¹„í•œ ê²ƒì´ ë¹Œë” íŒ¨í„´ì´ë‹¤.
- í•„ìˆ˜ ë§¤ê°œ ë³€ìˆ˜ë§Œìœ¼ë¡œ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ë¹Œë” ê°ì²´ë¥¼ ì–»ì€ í›„ì— ë¹Œë” ê°ì²´ê°€ ì œê³µí•˜ëŠ” setter ë©”ì„œë“œë“¤ë¡œ ì›í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ë“¤ì„ ì„¤ì •í•œë‹¤. ì´í›„ ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” build ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ í•„ìš”í•œ (ë³´í†µì€ ë¶ˆë³€ì¸) ê°ì²´ë¥¼ ì–»ëŠ”ë‹¤.
- ë¹Œë”ì˜ setter ë©”ì„œë“œëŠ” ë¹Œë”ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì—°ì‡„ì  í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤. (**fluent API**)

```java
NutritionFacts cocaCola = new NutritionFacts.Builder(240, 8)
    .calories(100).sodium(35).carbohydrate(27).build();
```

í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë„£ê³ , ì›í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ì„ íƒì ìœ¼ë¡œ ë„£ì–´ì¤€ í›„ bulid()ë¥¼ í†µí•´ ê°ì²´ë¥¼ ì–»ê³  ìˆë‹¤. 

ì´ ì½”ë“œëŠ” ì½ê¸° ì‰½ê²Œ ì´ë£¨ì–´ì ¸ ëª…í™•í•œ ì •ë³´ ì „ë‹¬ì„ í•˜ê³  ìˆë‹¤.

### **ë¹Œë” íŒ¨í„´ì˜ í™œìš©ë°©ë²•**

- ë¹Œë” íŒ¨í„´ì€ ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„ëœ í´ë˜ìŠ¤ì™€ í•¨ê»˜ ì“°ê¸°ì— ì¢‹ë‹¤.
- ê° ê³„ì¸µì˜ í´ë˜ìŠ¤ì— ê´€ë ¨ ë¹Œë”ë¥¼ ë©¤ë²„ë¡œ ì •ì˜í•˜ê³  ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì¶”ìƒ ë¹Œë”, êµ¬ì²´ í´ë˜ìŠ¤ëŠ” êµ¬ì²´ ë¹Œë”ë¥¼ ê°€ì§„ë‹¤.
- ì¶”ìƒ í´ë˜ìŠ¤(Pizza)ì˜ Builder í´ë˜ìŠ¤ëŠ” **ì¬ê·€ì  íƒ€ì… í•œì •**ì„ ì´ìš©í•˜ëŠ” ì œë„¤ë¦­ íƒ€ì…ìœ¼ë¡œ, í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” í˜•ë³€í™˜í•˜ì§€ ì•Šê³ ë„ ë©”ì„œë“œ ì—°ì‡„ê°€ ê°€ëŠ¥í•˜ë‹¤.
- ê° í•˜ìœ„ í´ë˜ìŠ¤ì˜ ë¹Œë”ê°€ ì •ì˜í•œ build()ëŠ” í•´ë‹¹ êµ¬ì²´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤. (ê³µë³€ ë°˜í™˜ íƒ€ì´í•‘)

```java
public abstract class Pizza {
    public enum Topping { HAM, MUSHROOM, ONION, PEPPER, SAUSAGE }
    final Set<Topping> toppings;

    abstract static class Builder<T extends Builder<T>> {
        EnumSet<Topping> toppings = EnumSet.noneOf(Topping.class);
        public T addTopping(Topping topping) {
            toppings.add(Objects.requireNonNull(topping));
            return self();
        }

        abstract Pizza build();

        // í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì´ ë©”ì„œë“œë¥¼ ì¬ì •ì˜(overriding)í•˜ì—¬
        // thisë¥¼ ë°˜í™˜í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.
        protected abstract T self();
    }
    
    Pizza(Builder<?> builder) {
        toppings = builder.toppings.clone();
    }
}
```

```java
// ê³µë³€ ë°˜í™˜ íƒ€ì´í•‘
public class NyPizza extends Pizza {
    public enum Size { SMALL, MEDIUM, LARGE }
    private final Size size;

    public static class Builder extends Pizza.Builder<Builder> {
        private final Size size;

        public Builder(Size size) {
            this.size = Objects.requireNonNull(size);
        }

        @Override public NyPizza build() {
            return new NyPizza(this);
        }

        @Override protected Builder self() { return this; }
    }

    private NyPizza(Builder builder) {
        super(builder);
        size = builder.size;
    }
}
```

```java
NyPizza pizza = new NyPizza.Builder(SMALL)
    .addTopping(SUASAGE).addTopping(ONION)
    .build();
```

## **í•µì‹¬ì •ë¦¬ ğŸ’¡**

- ìƒì„±ìë‚˜ ì •ì  íŒ©í„°ë¦¬ê°€ ì²˜ë¦¬í•´ì•¼í•  ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë” íŒ¨í„´ì„ ì„ íƒí•˜ëŠ”ê²Œ ë‚«ë‹¤.
- ë§¤ê°œë³€ìˆ˜ ì¤‘ ë‹¤ìˆ˜ê°€ í•„ìˆ˜ê°€ ì•„ë‹ˆê±°ë‚˜ ê°™ì€ íƒ€ì…ì´ë©´ íŠ¹íˆ ë” ë‚«ë‹¤.

## **ì°¸ê³  ğŸ•¶ï¸**

**ìë°”ë¹ˆ ìŠ¤í™**

[https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec](https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec)

**RuntimeException**

[https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html)

[https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html](https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html)
