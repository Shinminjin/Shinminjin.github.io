---
title: Item 38 - í™•ì¥í•  ìˆ˜ ìˆëŠ” ì—´ê±° íƒ€ì…ì´ í•„ìš”í•˜ë©´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¼
date: 2024-10-21 13:10:00 +0900
categories: [ì´í™í‹°ë¸Œ ìë°”, chapter6]
tags: [ì´í™í‹°ë¸Œ ìë°”]
---

## **íƒ€ì… ì•ˆì „ ì—´ê±° íŒ¨í„´ vs ì—´ê±° íƒ€ì…**

### **íƒ€ì… ì•ˆì „ ì—´ê±° íŒ¨í„´**

```java
public class Operation {
    public static final Operation PLUS = new Operation("+", (x, y) -> x + y);
    public static final Operation MINUS = new Operation("-", (x, y) -> x - y);
    public static final Operation TIMES = new Operation("*", (x, y) -> x * y);
    public static final Operation DIVIDE = new Operation("/", (x, y) -> x / y);
	
    private final String symbol;
    private final BiFunction<Double, Double, Double> func;
	
    private Operation(String symbol, BiFunction<Double, Double, Double> func) {
        this.symbol = symbol;
        this.func = func;
    }
	
    public double apply(double x, double y) {
        return this.func.apply(x, y);
    }
}
```


### **ì—´ê±° íƒ€ì…**
```java
public enum Operation {
    PLUS("+", (x, y) -> x + y),
    MINUS("-", (x, y) -> x - y),
    TIMES("*", (x, y) -> x * y),
    DIVIDE("/", (x, y) -> x / y);
	
    private final String symbol;
    private final BiFunction<Double, Double, Double> func;
	
    Operation(String symbol, BiFunction<Double, Double, Double> func) {
        this.symbol = symbol;
        this.func = func;
    }
	
    public double apply(double x, double y) {
        return this.func.apply(x, y);
    }
}
```
- ê±°ì˜ ëª¨ë“  ìƒí™©ì—ì„œ **íƒ€ì… ì•ˆì „ ì—´ê±° íŒ¨í„´**ë³´ë‹¤ **ì—´ê±° íƒ€ì…**ì´ ìš°ìˆ˜í•˜ë‹¤. ğŸ‘
- ë‹¨, **íƒ€ì… ì•ˆì „ ì—´ê±° íŒ¨í„´**ì€ **í™•ì¥ì´ ê°€ëŠ¥**í•˜ì§€ë§Œ, **ì—´ê±° íƒ€ì…**ì€ **í™•ì¥ì´ ë¶ˆê°€ëŠ¥**í•˜ë‹¤.


```java
// íƒ€ì… ì•ˆì „ ì—´ê±° íŒ¨í„´ì€ í™•ì¥ê°€ëŠ¥
public class ExtendedOperation extends Operation {
    public static final ExtendedOperation EXP = new ExtendedOperation("^", (x, y) -> Math.pow(x, y));
    public static final ExtendedOperation REMAINDER = new ExtendedOperation("%", (x, y) -> x % y);
	
    protected ExtendedOperation(String symbol, BiFunction<Double, Double, Double> func) {
        super(symbol, func);
    }
}
```

```java
// ì—´ê±° íƒ€ì…ì€ í™•ì¥ ë¶ˆê°€ëŠ¥ (ì»´íŒŒì¼ ì—ëŸ¬)
public enum ExtendedOperation extends Operation {
    // ...
}
```


## **ğŸ™… ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„  ì—´ê±° íƒ€ì…ì„ í™•ì¥í•˜ëŠ” ê±´ ì¢‹ì§€ ì•Šë‹¤.**
- í™•ì¥ íƒ€ì…ì˜ ì›ì†ŒëŠ” ê¸°ë°˜ íƒ€ì…ì˜ ì›ì†Œì§€ë§Œ ê¸°ë°˜ íƒ€ì…ì˜ ì›ì†ŒëŠ” í™•ì¥ íƒ€ì…ì˜ ì›ì†Œê°€ ì•„ë‹ˆë‹¤.
- ê¸°ë°˜ íƒ€ì…ê³¼ í™•ì¥ íƒ€ì…ë“¤ì˜ ì›ì†Œë¥¼ ëª¨ë‘ ìˆœíšŒí•  ë°©ë²•ì´ ë§ˆë•…ì¹˜ ì•Š.
- í™•ì¥ì„±ì„ ë†’ì´ë ¤ë©´ ê³ ë ¤ìš”ì†Œê°€ ëŠ˜ì–´ë‚˜ ì„¤ê³„ì™€ êµ¬í˜„ì´ ë³µì¡í•´ì§„ë‹¤.


## **ê·¸ë˜ë„ í™•ì¥í•˜ê³  ì‹¶ì€ ê²½ìš°ì—”?**
ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì.

```java
public interface Operation {
    double apply(double x, double y);
}
```

```java
public enum BasicOperation implements Operation {
    PLUS("+", (x, y) -> x + y),
    MINUS("-", (x, y) -> x - y),
    TIMES("*", (x, y) -> x * y),
    DIVIDE("/", (x, y) -> x / y);
	
    private final String symbol;
    private final BiFunction<Double, Double, Double> func;
	
    BasicOperation(String symbol, BiFunction<Double, Double, Double> func) {
        this.symbol = symbol;
        this.func = func;
    }
	
    @Override
    public double apply(double x, double y) {
        return this.func.apply(x, y);
    }
	
    @Override
    public String toString() {
        return symbol;
    }
}
```

```java
public enum ExtendedOperation implements Operation {
    EXP("^", (x, y) -> Math.pow(x, y)), 
    REMAINDER("%", (x, y) -> x % y);
	
    private final String symbol;
    private final BiFunction<Double, Double, Double> func;
	
    ExtendedOperation(String symbol, BiFunction<Double, Double, Double> func) {
        this.symbol = symbol;
        this.func = func;
    }
	
    @Override
    public double apply(double x, double y) {
        return this.func.apply(x, y);
    }
	
    @Override
    public String toString() {
        return symbol;
    }
}
```

ê·¸ëŸ¼,Â `Operation`Â ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œëŠ” ê¸°ì¡´ ì—°ì‚°ê³¼ í™•ì¥í•œ ì—°ì‚°ì„ ëª¨ë‘ ì“¸ ìˆ˜ ìˆë‹¤.

```java
public static void main(String[] args) {
    double x = 2;
    double y = 4;
    print(BasicOperation.PLUS, x, y);         // 2.000000 + 4.000000 = 6.000000
    print(ExtendedOperation.REMAINDER, x, y); // 2.000000 % 4.000000 = 2.000000
}

public static void print(Operation op, double x, double y) {
    System.out.printf("%f %s %f = %f%n", x, op, y, op.apply(x, y));
}
```


## **ğŸ’¡ í•µì‹¬ ì •ë¦¬**
- ì—´ê±° íƒ€ì… ìì²´ëŠ” í™•ì¥í•  ìˆ˜ ì—†ì§€ë§Œ, **ì¸í„°í˜ì´ìŠ¤ì™€ ê·¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê¸°ë³¸ ì—´ê±° íƒ€ì…ì„ í•¨ê»˜ ì‚¬ìš©í•´ ê°™ì€ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤.**
- ì´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ ìì‹ ë§Œì˜ ì—´ê±° íƒ€ì…ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- APIê°€ ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆë‹¤ë©´ ê¸°ë³¸ ì—´ê±° íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì“°ì´ëŠ” ëª¨ë“  ê³³ì„ ìƒˆë¡œ í™•ì¥í•œ ì—´ê±° íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ëŒ€ì²´í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
