---
title: Item 21 - μΈν„°νμ΄μ¤λ” κµ¬ν„ν•λ” μ½μ„ μƒκ°ν•΄ μ„¤κ³„ν•λΌ
date: 2024-09-01 00:58:00 +0900
categories: [μ΄ν™ν‹°λΈ μλ°”, chapter4]
tags: [μ΄ν™ν‹°λΈ μλ°”]
---

## **λ””ν΄νΈ λ©”μ„λ“μ λ„μ…**

- μλ°” 8 μ΄μ „μ—λ” κΈ°μ΅΄ κµ¬ν„μ²΄λ¥Ό κΉ¨λ¨λ¦¬μ§€ μ•κ³ λ” μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  λ°©λ²•μ΄ μ—†μ—λ‹¤.
- μλ°” 8λ¶€ν„°λ” **λ””ν΄νΈ λ©”μ„λ“**κ°€ μ†κ°λλ©΄μ„ κΈ°μ΅΄ μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μκ² λμ—λ‹¤.

> κ·Έλ¬λ‚ μ΄λ ‡κ² μ¶”κ°€λ λ””ν΄νΈ λ©”μ„λ“κ°€ λ¨λ“  κΈ°μ΅΄ κµ¬ν„μ²΄λ“¤κ³Ό λ§¤λ„λ½κ² μ—°λ™λλ¦¬λΌλ” λ³΄μ¥μ€ μ—†λ‹¤.


## **λ””ν΄νΈ λ©”μ„λ“ μ¶”κ°€ μ‹ μ£Όμμ‚¬ν•­**

> **λ””ν΄νΈ λ©”μ„λ“λ” μ»΄νμΌμ— μ„±κ³µν•λ”λΌλ„ κΈ°μ΅΄ κµ¬ν„μ²΄μ— λ°νƒ€μ„ μ¤λ¥λ¥Ό μΌμΌν‚¬ μ μλ‹¤.**

### **μμ‹ μ½”λ“**

**μ΄κΈ° μΈν„°νμ΄μ¤μ™€ ν΄λμ¤**

```java
interface Animal {
    void sound(); // Animal μΈν„°νμ΄μ¤λ” sound() λ©”μ„λ“λ¥Ό κ°€μ§„λ‹¤.
}

class Dog implements Animal {
    @Override
    public void sound() {
        System.out.println("Woof"); // Dog ν΄λμ¤λ” sound() λ©”μ„λ“λ¥Ό κµ¬ν„ν•κ³  μλ‹¤.
    }
}
```

**λ””ν΄νΈ λ©”μ„λ“ μ¶”κ°€**

- `Animal` μΈν„°νμ΄μ¤μ— μƒλ΅μ΄ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.
- `Animal` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ¨λ“  ν΄λμ¤λ” `sleep()` λ©”μ„λ“λ¥Ό κ°€μ§€κ² λλ‹¤.

```java
interface Animal {
    void sound();

    // μƒλ΅ μ¶”κ°€λ λ””ν΄νΈ λ©”μ„λ“
    default void sleep() {
        System.out.println("The animal is sleeping");
    }
}
```


**λ°νƒ€μ„ μ¤λ¥κ°€ λ°μƒν•  μ μλ” μƒν™©**
- `Dog` ν΄λμ¤μ— `sleep()`μ΄λΌλ” λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄μ„ μλ„μ μΌλ΅ μλ»λ μ½”λ“λ¥Ό λ„£μ–΄ λ³΄μ.
    -  μλ¥Ό λ“¤μ–΄, `sleep()` λ©”μ„λ“κ°€ `null`μΈ κ°μ²΄λ¥Ό μ°Έμ΅°ν•λ„λ΅ ν•μ.
    
```java
class Dog implements Animal {
    @Override
    public void sound() {
        System.out.println("Woof");
    }

    // Dog ν΄λμ¤μ— μƒλ΅μ΄ sleep() λ©”μ„λ“ μ¶”κ°€ (μ¤λ²„λΌμ΄λ”©)
    public void sleep() {
        // μ‹¤μλ΅ λ°μƒν• NullPointerException
        String message = null;
        System.out.println(message.toLowerCase());
    }
}
```

**μ½”λ“ μ‹¤ν–‰**
```java
public class Main {
    public static void main(String[] args) {
        Animal dog = new Dog();
        dog.sound(); // "Woof" μ¶λ ¥
        dog.sleep(); // NullPointerException λ°μƒ
    }
}
```
- `Dog` ν΄λμ¤λ” `sleep()` λ©”μ„λ“λ¥Ό μ¬μ •μν–μ§€λ§, ν•΄λ‹Ή λ©”μ„λ“μ— λ²„κ·Έκ°€ μμ–΄μ„ λ°νƒ€μ„ μ¤λ¥κ°€ λ°μƒν•λ‹¤.
- κΈ°μ΅΄ μΈν„°νμ΄μ¤μ— λ””ν΄νΈ λ©”μ„λ“ κµ¬ν„μ„ μ¶”κ°€ν•λ” μΌμ€ κΌ­ ν•„μ”ν• κ²½μ°κ°€ μ•„λ‹λ©΄ ν”Όν•΄μ•Όν•λ‹¤.
    - λ””ν΄νΈ λ©”μ„λ“λ” κµ¬ν„ ν΄λμ¤μ— λ€ν•΄ μ•„λ¬΄κ²ƒλ„ λ¨λ¥Έ μ±„ ν•©μ μ—†μ΄ λ¬΄μ‘μ • β€μ‚½μ…β€λ  λΏμ΄λ‹¤.


- μΈν„°νμ΄μ¤λ¥Ό μ„¤κ³„ν•  λ•λ” μ„Έμ‹¬ν• μ£Όμλ¥Ό κΈ°μΈμ—¬μ•Ό ν•λ‹¤.
    - μƒλ΅μ΄ μΈν„°νμ΄μ¤λΌλ©΄ λ¦΄λ¦¬μ¦ μ „μ— λ°λ“μ‹ ν…μ¤νΈλ¥Ό κ±°μ³μ•Ό ν•λ‹¤.
    - μ„λ΅ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μµμ†ν• μ„Έ κ°€μ§€λ” κµ¬ν„μ„ ν•΄λ³΄μ.


## **μ°Έκ³  π•¶οΈ**

**[ConcurrentModificationException](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ConcurrentModificationException.html)** - ν„μ¬ λ°”λ€λ©΄ μ•λλ” κ²ƒμ„ μμ •ν•  λ• λ°μƒν•λ” μμ™Έ
- λ©€ν‹° μ¤λ λ“κ°€ μ•„λ‹λΌ μ‹±κΈ€ μ¤λ λ“ μƒν™©μ—μ„λ„ λ°μƒν•  μ μλ‹¤.
    - κ°€λ Ή, fail-fast μ΄ν„°λ μ΄ν„°λ¥Ό μ‚¬μ©ν•΄ μ»¬λ ‰μ…μ„ μνν•λ” μ¤‘μ— μ»¬λ ‰μ…μ„ λ³€κ²½ν•λ” κ²½μ°
